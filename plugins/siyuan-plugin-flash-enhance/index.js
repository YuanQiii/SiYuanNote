/*!
 * MIT License
 *
 * Copyright (c) 2023 SiYuan 思源笔记
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */(()=>{"use strict";var Mi={80:(z,oe)=>{oe.Z=(R,et)=>{var me,ln,un=R.__vccOpts||R;for([me,ln]of et)un[me]=ln;return un}}},Pr={};function Fe(z){var oe=Pr[z];return oe!==void 0||(oe=Pr[z]={exports:{}},Mi[z](oe,oe.exports,Fe)),oe.exports}Fe.d=(z,oe)=>{for(var R in oe)Fe.o(oe,R)&&!Fe.o(z,R)&&Object.defineProperty(z,R,{enumerable:!0,get:oe[R]})},Fe.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Fe.o=(z,oe)=>Object.prototype.hasOwnProperty.call(z,oe),Fe.r=z=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})};var Wn={};{let oe=function(e,t){const n=Object.create(null);var o=e.split(",");for(let r=0;r<o.length;r++)n[o[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]},Yn=function(e){if(A(e)){var t={};for(let r=0;r<e.length;r++){var n=e[r],o=(Y(n)?function(i){const a={};return i.replace(Ki,"").split(Ui).forEach(s=>{s&&1<(s=s.split(ji)).length&&(a[s[0].trim()]=s[1].trim())}),a}:Yn)(n);if(o)for(const i in o)t[i]=o[i]}return t}return Y(e)||q(e)?e:void 0},Xn=function(e){let t="";if(Y(e))t=e;else if(A(e))for(let o=0;o<e.length;o++){var n=Xn(e[o]);n&&(t+=n+" ")}else if(q(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()},Hr=function(e){return!!e||e===""},mn=function(e,t){if(e===t)return!0;var n=Rr(e),o=Rr(t);if(n||o)return!(!n||!o)&&e.getTime()===t.getTime();if(n=jt(e),o=jt(t),n||o)return e===t;if(n=A(e),o=A(t),n||o)return!(!n||!o)&&function(a,s){if(a.length!==s.length)return!1;let l=!0;for(let u=0;l&&u<a.length;u++)l=mn(a[u],s[u]);return l}(e,t);if(n=q(e),o=q(t),n||o){if(!n||!o||Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e){var r=e.hasOwnProperty(a),i=t.hasOwnProperty(a);if(r&&!i||!r&&i||!mn(e[a],t[a]))return!1}}return String(e)===String(t)},$r=function(e,t){return e.findIndex(n=>mn(n,t))},$i=function(e,t=Me){t&&t.active&&t.effects.push(e)},Zr=function(e){var t=e.deps;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}},Ft=function(){Gr.push(nt),nt=!1},Ct=function(){var e=Gr.pop();nt=e===void 0||e},ge=function(e,t,n){if(nt&&Ie){let o=tr.get(e),r=(o||tr.set(e,o=new Map),o.get(n));r||o.set(n,r=er()),Qr(r)}},Qr=function(e){let t=!1;$t<=nr?Jr(e)||(e.n|=tt,t=!Wr(e)):t=!e.has(Ie),t&&(e.add(Ie),Ie.deps.push(e))},Je=function(e,t,n,o){var r=tr.get(e);if(r){let a=[];if(t==="clear")a=[...r.values()];else if(n==="length"&&A(e)){const s=Number(o);r.forEach((l,u)=>{(u==="length"||u>=s)&&a.push(l)})}else switch(n!==void 0&&a.push(r.get(n)),t){case"add":A(e)?Gn(n)&&a.push(r.get("length")):(a.push(r.get(ct)),Et(e)&&a.push(r.get(rr)));break;case"delete":A(e)||(a.push(r.get(ct)),Et(e)&&a.push(r.get(rr)));break;case"set":Et(e)&&a.push(r.get(ct))}if(a.length===1)a[0]&&ir(a[0]);else{var i=[];for(const s of a)s&&i.push(...s);ir(er(i))}}},ir=function(e){e=A(e)?e:[...e];for(const t of e)t.computed&&Yr(t);for(const t of e)t.computed||Yr(t)},Yr=function(e){e===Ie&&!e.allowRecurse||(e.scheduler?e.scheduler():e.run())},qi=function(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){var o=B(this);for(let i=0,a=this.length;i<a;i++)ge(o,0,i+"");var r=o[t](...n);return r===-1||r===!1?o[t](...n.map(B)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){return Ft(),n=B(this)[t].apply(this,n),Ct(),n}}),e},Wi=function(e){var t=B(this);return ge(t,0,e),t.hasOwnProperty(e)},ar=function(e=!1,t=!1){return function(n,o,r){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&r===(e?t?ra:co:t?uo:lo).get(n))return n;var i=A(n);if(!e){if(i&&U(eo,o))return Reflect.get(eo,o,r);if(o==="hasOwnProperty")return Wi}return r=Reflect.get(n,o,r),(jt(o)?Xr.has(o):zi(o))||(e||ge(n,0,o),t)?r:le(r)?i&&Gn(o)?r:r.value:q(r)?(e?po:ur)(r):r}},to=function(e=!1){return function(t,n,o,r){let i=t[n];var a,s;return!(Dt(i)&&le(i)&&!le(o))&&(e||(xn(o)||Dt(o)||(i=B(i),o=B(o)),A(t))||!le(i)||le(o)?(a=A(t)&&Gn(n)?Number(n)<t.length:U(t,n),s=Reflect.set(t,n,o,r),t===B(r)&&(a?Bt(o,i)&&Je(t,"set",n,o,i):Je(t,"add",n,o)),s):(i.value=o,!0))}},_n=function(e,t,n=!1,s=!1){var r=B(e=e.__v_raw),i=B(t),a=(n||(t!==i&&ge(r,0,t),ge(r,0,i)),gn(r)).has,s=s?sr:n?dr:zt;return a.call(r,t)?s(e.get(t)):a.call(r,i)?s(e.get(i)):void(e!==r&&e.get(t))},yn=function(e,t=!1){var n=this.__v_raw,o=B(n),r=B(e);return t||(e!==r&&ge(o,0,e),ge(o,0,r)),e===r?n.has(e):n.has(e)||n.has(r)},bn=function(e,t=!1){return e=e.__v_raw,t||ge(B(e),0,ct),Reflect.get(e,"size",e)},oo=function(e){e=B(e);var t=B(this);return gn(t).has.call(t,e)||(t.add(e),Je(t,"add",e,e)),this},io=function(e,t){t=B(t);var n=B(this),{has:o,get:r}=gn(n);let i=o.call(n,e);return i||(e=B(e),i=o.call(n,e)),o=r.call(n,e),n.set(e,t),i?Bt(t,o)&&Je(n,"set",e,t):Je(n,"add",e,t),this},ao=function(e){var t=B(this),{has:n,get:o}=gn(t);let r=n.call(t,e);return r||(e=B(e),r=n.call(t,e)),o&&o.call(t,e),n=t.delete(e),r&&Je(t,"delete",e,void 0),n},so=function(){var e=B(this),t=e.size!==0,n=e.clear();return t&&Je(e,"clear",void 0,void 0),n},wn=function(e,t){return function(n,o){const r=this;var i=r.__v_raw,a=B(i);const s=t?sr:e?dr:zt;return e||ge(a,0,ct),i.forEach((l,u)=>n.call(o,s(l),s(u),r))}},Sn=function(e,t,n){return function(...o){var r=this.__v_raw,i=B(r),a=Et(i);const s=e==="entries"||e===Symbol.iterator&&a;a=e==="keys"&&a;const l=r[e](...o),u=n?sr:t?dr:zt;return t||ge(i,0,a?rr:ct),{next(){var{value:p,done:h}=l.next();return h?{value:p,done:h}:{value:s?[u(p[0]),u(p[1])]:u(p),done:h}},[Symbol.iterator](){return this}}}},rt=function(e){return function(){return e!=="delete"&&this}},Zi=function(){const e={get(r){return _n(this,r)},get size(){return bn(this)},has:yn,add:oo,set:io,delete:ao,clear:so,forEach:wn(!1,!1)},t={get(r){return _n(this,r,!1,!0)},get size(){return bn(this)},has:yn,add:oo,set:io,delete:ao,clear:so,forEach:wn(!1,!0)},n={get(r){return _n(this,r,!0)},get size(){return bn(this,!0)},has(r){return yn.call(this,r,!0)},add:rt("add"),set:rt("set"),delete:rt("delete"),clear:rt("clear"),forEach:wn(!0,!1)},o={get(r){return _n(this,r,!0,!0)},get size(){return bn(this,!0)},has(r){return yn.call(this,r,!0)},add:rt("add"),set:rt("set"),delete:rt("delete"),clear:rt("clear"),forEach:wn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Sn(r,!1,!1),n[r]=Sn(r,!0,!1),t[r]=Sn(r,!1,!0),o[r]=Sn(r,!0,!0)}),[e,n,t,o]},lr=function(e,t){const n=t?e?Xi:Yi:e?Qi:Gi;return(o,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(U(n,r)&&r in o?n:o,r,i)},ur=function(e){return Dt(e)?e:cr(e,!1,no,ea,lo)},po=function(e){return cr(e,!0,ro,na,co)},cr=function(e,t,n,o,r){return q(e)&&(!e.__v_raw||t&&e.__v_isReactive)?r.get(e)||((t=function(i){if(i.__v_skip||!Object.isExtensible(i))return 0;switch(Pi(i)){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(e))===0?e:(t=new Proxy(e,t===2?o:n),r.set(e,t),t)):e},At=function(e){return Dt(e)?At(e.__v_raw):!(!e||!e.__v_isReactive)},Dt=function(e){return!(!e||!e.__v_isReadonly)},xn=function(e){return!(!e||!e.__v_isShallow)},fo=function(e){return At(e)||Dt(e)},B=function(e){var t=e&&e.__v_raw;return t?B(t):e},ho=function(e){return vn(e,"__v_skip",!0),e},vo=function(e){nt&&Ie&&Qr((e=B(e)).dep||(e.dep=er()))},mo=function(e){e=(e=B(e)).dep,e&&ir(e)},le=function(e){return!(!e||e.__v_isRef!==!0)},go=function(e){return oa(e,!1)},oa=function(e,t){return le(e)?e:new ia(e,t)},aa=function(e){return le(e)?e.value:e},_o=function(e){return At(e)?e:new Proxy(e,sa)},ot=function(e,t,n,o){let r;try{r=o?e(...o):e()}catch(i){kn(i,t,n)}return r},Pe=function(e,t,n,o){var r;if(N(e))return(r=ot(e,t,n,o))&&Ur(r)&&r.catch(a=>{kn(a,t,n)}),r;var i=[];for(let a=0;a<e.length;a++)i.push(Pe(e[a],t,n,o));return i},kn=function(e,t,n){if(t&&t.vnode,t){let a=t.parent;for(var o=t.proxy,r=n;a;){var i=a.ec;if(i){for(let s=0;s<i.length;s++)if(i[s](e,o,r)===!1)return}a=a.parent}if(n=t.appContext.config.errorHandler,n)return void ot(n,null,10,[e,o,r])}},hr=function(e){ue.length&&ue.includes(e,qt&&e.allowRecurse?Ue+1:Ue)||(e.id==null?ue.push(e):ue.splice(function(t){let n=Ue+1,o=ue.length;for(;n<o;){var r=n+o>>>1;Wt(ue[r])<t?n=1+r:o=r}return n}(e.id),0,e),bo())},bo=function(){qt||pr||(pr=!0,fr=yo.then(xo))},ua=function(e){A(e)?Tt.push(...e):it&&it.includes(e,e.allowRecurse?dt+1:dt)||Tt.push(e),bo()},wo=function(e,t=qt?Ue+1:0){for(;t<ue.length;t++){var n=ue[t];n&&n.pre&&(ue.splice(t,1),t--,n())}},So=function(){if(Tt.length){var e=[...new Set(Tt)];if(Tt.length=0,it)it.push(...e);else{for((it=e).sort((t,n)=>Wt(t)-Wt(n)),dt=0;dt<it.length;dt++)it[dt]();it=null,dt=0}}},xo=function(e){pr=!1,qt=!0,ue.sort(ca);try{for(Ue=0;Ue<ue.length;Ue++){var t=ue[Ue];t&&t.active!==!1&&ot(t,null,14)}}finally{Ue=0,ue.length=0,So(),qt=!1,fr=null,(ue.length||Tt.length)&&xo(e)}},En=function(e,...t){Ze?Ze.emit(e,...t):vr||Jt.push({event:e,args:t})},mr=function(e){return t=>{En(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}},ha=function(e,t,...n){if(!e.isUnmounted){var o=e.vnode.props||R;let s=n;var r,i=t.startsWith("update:"),a=i&&t.slice(7);a&&a in o&&({number:a,trim:r}=o[`${a==="modelValue"?"model":a}Modifiers`]||R,r&&(s=n.map(p=>Y(p)?p.trim():p)),a)&&(s=n.map(Ri)),__VUE_PROD_DEVTOOLS__&&(r=s,En("component:emit",e.appContext.app,e,t,r));let l,u=o[l=Qn(t)]||o[l=Qn(Re(t))];if((u=!u&&i?o[l=Qn(Ot(t))]:u)&&Pe(u,e,6,s),a=o[l+"Once"],a){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,Pe(a,e,6,s)}}},On=function(e,t){return e&&cn(t)&&(t=t.slice(2).replace(/Once$/,""),U(e,t[0].toLowerCase()+t.slice(1))||U(e,Ot(t))||U(e,t))},Cn=function(e){var t=Ce;return Ce=e,Fn=e&&e.type.__scopeId||null,t},pt=function(e,t=Ce,n){if(!t||e._n)return e;const o=(...r)=>{o._d&&Zo(-1);var i=Cn(t);let a;try{a=e(...r)}finally{Cn(i),o._d&&Zo(1)}return __VUE_PROD_DEVTOOLS__&&ko(t),a};return o._n=!0,o._c=!0,o._d=!0,o},gr=function(e){var{type:t,vnode:n,proxy:o,withProxy:r,props:i,propsOptions:[a],slots:s,attrs:l,emit:u,render:p,renderCache:h,data:b,setupState:k,ctx:M,inheritAttrs:V}=e;let D,I;var H,X,Z=Cn(e);try{I=4&n.shapeFlag?(H=r||o,D=Ke(p.call(H,H,h,i,k,b,M)),l):(X=t,D=Ke(1<X.length?X(i,{attrs:l,slots:s,emit:u}):X(i,null)),t.props?l:va(l))}catch(ze){Xt.length=0,kn(ze,e,1),D=Ge(mt)}let ae=D;return I&&V!==!1&&(r=Object.keys(I),o=ae.shapeFlag,r.length)&&7&o&&(a&&r.some(Jn)&&(I=ma(I,a)),ae=Mt(ae,I)),n.dirs&&((ae=Mt(ae)).dirs=ae.dirs?ae.dirs.concat(n.dirs):n.dirs),n.transition&&(ae.transition=n.transition),D=ae,Cn(Z),D},Eo=function(e,t,n){var o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let i=0;i<o.length;i++){var r=o[i];if(t[r]!==e[r]&&!On(n,r))return!0}return!1},ga=function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent},ya=function(e,t){t&&t.pendingBranch?A(e)?t.effects.push(...e):t.effects.push(e):ua(e)},Zt=function(e,t,n){Oo(e,t,n)},Oo=function(e,t,{immediate:n,deep:o,flush:r}=R){const i=Me===((b=ie)==null?void 0:b.scope)?ie:null;let a,s=!1,l=!1;if(le(e)?(a=()=>e.value,s=xn(e)):At(e)?(a=()=>e,o=!0):a=A(e)?(l=!0,s=e.some(I=>At(I)||xn(I)),()=>e.map(I=>le(I)?I.value:At(I)?ft(I):N(I)?ot(I,i,2):void 0)):N(e)?t?()=>ot(e,i,2):()=>{if(!i||!i.isUnmounted)return u&&u(),Pe(e,i,3,[p])}:me,t&&o){const I=a;a=()=>ft(I())}let u,p=I=>{u=D.onStop=()=>{ot(I,i,4)}},h;if(rn){if(p=me,t?n&&Pe(t,i,3,[a(),l?[]:void 0,p]):a(),r!=="sync")return me;var b=Ya();h=b.__watcherHandles||(b.__watcherHandles=[])}let k=l?new Array(e.length).fill(An):An;const M=()=>{var I;D.active&&(t?(I=D.run(),(o||s||(l?I.some((H,X)=>Bt(H,k[X])):Bt(I,k)))&&(u&&u(),Pe(t,i,3,[I,k===An?void 0:l&&k[0]===An?[]:k,p]),k=I)):D.run())};M.allowRecurse=!!t;let V;V=r==="sync"?M:r==="post"?()=>_e(M,i&&i.suspense):(M.pre=!0,i&&(M.id=i.uid),()=>hr(M));const D=new or(a,V);return t?n?M():k=D.run():r==="post"?_e(D.run.bind(D),i&&i.suspense):D.run(),b=()=>{D.stop(),i&&i.scope&&Zn(i.scope.effects,D)},h&&h.push(b),b},Fo=function(e,t){const n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}},ft=function(e,t){if(q(e)&&!e.__v_skip&&!(t=t||new Set).has(e)){if(t.add(e),le(e))ft(e.value,t);else if(A(e))for(let n=0;n<e.length;n++)ft(e[n],t);else if(dn(e)||Et(e))e.forEach(n=>{ft(n,t)});else if(Kr(e))for(const n in e)ft(e[n],t)}return e},ht=function(e,t,n,o){var r=e.dirs,i=t&&t.dirs;for(let l=0;l<r.length;l++){var a=r[l],s=(i&&(a.oldValue=i[l].value),a.dir[o]);s&&(Ft(),Pe(s,n,8,[e.el,a,e,t]),Ct())}},Dn=function(e,t){return N(e)?(()=>te({name:e.name},t,{setup:e}))():e},ba=function(e,t){Ao(e,"a",t)},wa=function(e,t){Ao(e,"da",t)},Ao=function(e,t,n=ie){var o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Ln(t,o,n),n){let r=n.parent;for(;r&&r.parent;)Co(r.parent.vnode)&&function(i,a,s,l){const u=Ln(a,i,l,!0);Do(()=>{Zn(l[a],u)},s)}(o,t,n,r),r=r.parent}},Ln=function(e,t,n=ie,o=!1){var r,i;if(n)return r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{if(!n.isUnmounted)return Ft(),It(n),a=Pe(t,n,e,a),_t(),Ct(),a}),o?r.unshift(i):r.push(i),i},Da=function(e,t=ie){Ln("ec",e,t)},Lt=function(e){return Y(e)?Ta(To,e)||e:e||Lo},Ta=function(e,t,n,o=!1){var r=Ce||ie;if(r){var i=r.type;if(e===To){var a=Ja(i,!1);if(a&&(a===t||a===Re(t)||a===fn(Re(t))))return i}return a=Mo(r[e]||i[e],t)||Mo(r.appContext[e],t),!a&&o?i:a}},Mo=function(e,t){return e&&(e[t]||e[Re(t)]||e[fn(Re(t))])},_r=function(e,t,n,o){let r;const i=n&&n[o];if(A(e)||Y(e)){r=new Array(e.length);for(let l=0,u=e.length;l<u;l++)r[l]=t(e[l],l,void 0,i&&i[l])}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,i&&i[l])}else if(q(e))if(e[Symbol.iterator])r=Array.from(e,(l,u)=>t(l,u,void 0,i&&i[u]));else{var a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){var s=a[l];r[l]=t(e[s],s,l,i&&i[l])}}else r=[];return n&&(n[o]=r),r},Po=function(e){return A(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e},La=function(e){var o=Sr(e);const t=e.proxy;var n=e.ctx,{data:o,computed:r,methods:i,watch:a,provide:s,inject:l,created:u,beforeMount:p,mounted:h,beforeUpdate:b,updated:k,activated:M,deactivated:V,beforeUnmount:D,unmounted:I,render:H,renderTracked:X,renderTriggered:Z,errorCaptured:ae,serverPrefetch:ze,expose:Pt,inheritAttrs:an,components:Bn,directives:sn}=(wr=!1,o.beforeCreate&&No(o.beforeCreate,e,"bc"),o);if(l){var lt=l,Nt=n;for(const j in lt=A(lt)?xr(lt):lt){var Ye=lt[j];let Q;le(Q=q(Ye)?"default"in Ye?Pn(Ye.from||j,Ye.default,!0):Pn(Ye.from||j):Pn(Ye))?Object.defineProperty(Nt,j,{enumerable:!0,configurable:!0,get:()=>Q.value,set:$=>Q.value=$}):Nt[j]=Q}}if(i)for(const j in i){var St=i[j];N(St)&&(n[j]=St.bind(t))}if(o&&(l=o.call(t,t),q(l))&&(e.data=ur(l)),wr=!0,r)for(const j in r){var De=r[j],qe=N(De)?De.bind(t,t):N(De.get)?De.get.bind(t,t):me,De=!N(De)&&N(De.set)?De.set.bind(t):me;const Q=Ga({get:qe,set:De});Object.defineProperty(n,j,{enumerable:!0,configurable:!0,get:()=>Q.value,set:$=>Q.value=$})}if(a)for(const j in a)(function Q($,Te,Le,c){const d=c.includes(".")?Fo(Le,c):()=>Le[c];if(Y($)){const f=Te[$];N(f)&&Zt(d,f)}else if(N($))Zt(d,$.bind(Le));else if(q($))if(A($))$.forEach(f=>Q(f,Te,Le,c));else{const f=N($.handler)?$.handler.bind(Le):Te[$.handler];N(f)&&Zt(d,f,$)}})(a[j],n,t,j);if(s){const j=N(s)?s.call(t):s;Reflect.ownKeys(j).forEach(Te=>{var $=Te,Te=j[Te];if(ie){let c=ie.provides;var Le=ie.parent&&ie.parent.provides;(c=Le===c?ie.provides=Object.create(Le):c)[$]=Te}})}function we(j,Q){A(Q)?Q.forEach($=>j($.bind(t))):Q&&j(Q.bind(t))}if(u&&No(u,e,"c"),we(Sa,p),we(xa,h),we(ka,b),we(Ea,k),we(ba,M),we(wa,V),we(Da,ae),we(Aa,X),we(Ca,Z),we(Oa,D),we(Do,I),we(Fa,ze),A(Pt))if(Pt.length){const j=e.exposed||(e.exposed={});Pt.forEach(Q=>{Object.defineProperty(j,Q,{get:()=>t[Q],set:$=>t[Q]=$})})}else e.exposed||(e.exposed={});H&&e.render===me&&(e.render=H),an!=null&&(e.inheritAttrs=an),Bn&&(e.components=Bn),sn&&(e.directives=sn)},No=function(e,t,n){Pe(A(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)},Sr=function(e){var t=e.type,{mixins:n,extends:o}=t;const{mixins:r,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext;e=i.get(t);let s;return e?s=e:r.length||n||o?(s={},r.length&&r.forEach(l=>Mn(s,l,a,!0)),Mn(s,t,a)):s=t,q(t)&&i.set(t,s),s},Mn=function(e,t,n,o=!1){var r,{mixins:i,extends:a}=t;a&&Mn(e,a,n,!0),i&&i.forEach(s=>Mn(e,s,n,!0));for(const s in t)o&&s==="expose"||(r=Ma[s]||n&&n[s],e[s]=r?r(e[s],t[s]):t[s]);return e},Vo=function(e,t){return t?e?function(){return te(N(e)?e.call(this,this):e,N(t)?t.call(this,this):t)}:t:e},xr=function(e){if(A(e)){var t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e},ve=function(e,t){return e?[...new Set([].concat(e,t))]:t},Qt=function(e,t){return e?te(Object.create(null),e,t):t},Ro=function(e,t){return e?A(e)&&A(t)?[...new Set([...e,...t])]:te(Object.create(null),Po(e),Po(t??{})):t},Uo=function(){return{app:null,config:{isNativeTag:ln,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}},Pa=function(e,t){return function(n,o=null){N(n)||(n=te({},n)),o==null||q(o)||(o=null);const r=Uo(),i=new Set;let a=!1;const s=r.app={_uid:Ia++,_component:n,_props:o,_container:null,_context:r,_instance:null,version:ri,get config(){return r.config},set config(l){},use(l,...u){return i.has(l)||(l&&N(l.install)?(i.add(l),l.install(s,...u)):N(l)&&(i.add(l),l(s,...u))),s},mixin(l){return __VUE_OPTIONS_API__&&!r.mixins.includes(l)&&r.mixins.push(l),s},component(l,u){return u?(r.components[l]=u,s):r.components[l]},directive(l,u){return u?(r.directives[l]=u,s):r.directives[l]},mount(l,u,p){var h;if(!a)return(h=Ge(n,o)).appContext=r,u&&t?t(h,l):e(h,l,p),a=!0,(s._container=l).__vue_app__=s,__VUE_PROD_DEVTOOLS__&&(s._instance=h.component,u=s,p=ri,En("app:init",u,p,{Fragment:ye,Text:Yt,Comment:mt,Static:Nn})),Un(h.component)||h.component.proxy},unmount(){a&&(e(null,s._container),__VUE_PROD_DEVTOOLS__&&(s._instance=null,En("app:unmount",s)),delete s._container.__vue_app__)},provide(l,u){return r.provides[l]=u,s},runWithContext(l){In=s;try{return l()}finally{In=null}}};return s}},Pn=function(e,t,n=!1){var o,r=ie||Ce;if(r||In)return(o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:In._context.provides)&&e in o?o[e]:1<arguments.length?n&&N(t)?t.call(r&&r.proxy):t:void 0},Na=function(e,t,n,o=!1){var r={},i={};vn(i,Vn,1),e.propsDefaults=Object.create(null),jo(e,t,r,i);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=o?r:cr(r,!1,Ji,ta,uo):e.type.props?e.props=r:e.props=i,e.attrs=i},jo=function(e,t,n,o){var[r,i]=e.propsOptions;let a=!1,s;if(t){for(var l in t)if(!pn(l)){var u=t[l];let k;r&&U(r,k=Re(l))?i&&i.includes(k)?(s=s||{})[k]=u:n[k]=u:On(e.emitsOptions,l)||l in o&&u===o[l]||(o[l]=u,a=!0)}}if(i){var p=B(n),h=s||R;for(let k=0;k<i.length;k++){var b=i[k];n[b]=kr(r,p,b,h[b],e,!U(h,b))}}return a},kr=function(u,t,n,o,r,i){var a,s,l,u=u[n];return u!=null&&((a=U(u,"default"))&&o===void 0&&(s=u.default,u.type!==Function&&!u.skipFactory&&N(s)?(l=r.propsDefaults,n in l?o=l[n]:(It(r),o=l[n]=s.call(null,t),_t())):o=s),u[0])&&(i&&!a?o=!1:!u[1]||o!==""&&o!==Ot(n)||(o=!0)),o},Ko=function(e){return e[0]!=="$"},Bo=function(e){var t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""},Ho=function(e,t){return Bo(e)===Bo(t)},$o=function(e,t){return A(t)?t.findIndex(n=>Ho(n,e)):N(t)&&Ho(t,e)?0:-1},Or=function(e,t,n,o,r=!1){if(A(e))e.forEach((a,s)=>Or(a,t&&(A(t)?t[s]:t),n,o,r));else if(!Tn(o)||r){const a=4&o.shapeFlag?Un(o.component)||o.component.proxy:o.el,s=r?null:a,{i:l,r:u}=e;var i=t&&t.r;const p=l.refs===R?l.refs={}:l.refs,h=l.setupState;if(i!=null&&i!==u&&(Y(i)?(p[i]=null,U(h,i)&&(h[i]=null)):le(i)&&(i.value=null)),N(u))ot(u,l,12,[s,p]);else{const b=Y(u),k=le(u);(b||k)&&(i=()=>{var M;e.f?(M=b?(U(h,u)?h:p)[u]:u.value,r?A(M)&&Zn(M,a):A(M)?M.includes(a)||M.push(a):b?(p[u]=[a],U(h,u)&&(h[u]=p[u])):(u.value=[a],e.k&&(p[e.k]=u.value))):b?(p[u]=s,U(h,u)&&(h[u]=s)):k&&(u.value=s,e.k)&&(p[e.k]=s)},s?(i.id=-1,_e(i,n)):i())}}},Ua=function(e,t){typeof __VUE_OPTIONS_API__!="boolean"&&(Ht().__VUE_OPTIONS_API__=!0),typeof __VUE_PROD_DEVTOOLS__!="boolean"&&(Ht().__VUE_PROD_DEVTOOLS__=!1);var n=Ht();n.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&function c(d,f){(Ze=d)?(Ze.enabled=!0,Jt.forEach(({event:g,args:m})=>Ze.emit(g,...m)),Jt=[]):typeof window>"u"||!window.HTMLElement||(d=(d=window.navigator)==null?void 0:d.userAgent)!=null&&d.includes("jsdom")?(vr=!0,Jt=[]):((f.__VUE_DEVTOOLS_HOOK_REPLAY__=f.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(g=>{c(g,f)}),setTimeout(()=>{Ze||(f.__VUE_DEVTOOLS_HOOK_REPLAY__=null,vr=!0,Jt=[])},3e3))}(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:o,remove:r,patchProp:i,createElement:a,createText:s,createComment:l,setText:u,setElementText:p,parentNode:h,nextSibling:b,setScopeId:k=me,insertStaticContent:M}=e,V=(c,d,f,g=null,m=null,y=null,O=!1,w=null,_=!!d.dynamicChildren)=>{if(c!==d){c&&!tn(c,d)&&(g=Q(c),qe(c,m,y,!0),c=null),d.patchFlag===-2&&(_=!1,d.dynamicChildren=null);var{type:v,ref:E,shapeFlag:x}=d;switch(v){case Yt:var S=c,T=d,F=f,P=g;if(S==null)o(T.el=s(T.children),F,P);else{const xt=T.el=S.el;T.children!==S.children&&u(xt,T.children)}break;case mt:D(c,d,f,g);break;case Nn:c==null&&(F=d,P=f,S=g,T=O,[F.el,F.anchor]=M(F.children,P,S,T,F.el,F.anchor));break;case ye:{var C=c,L=d,G=f,ee=g,Se=m,ke=y,de=O,ne=w,pe=_;const xt=L.el=C?C.el:s(""),fe=L.anchor=C?C.anchor:s("");let{patchFlag:Ve,dynamicChildren:Rt,slotScopeIds:he}=L;he&&(ne=ne?ne.concat(he):he),C==null?(o(xt,G,ee),o(fe,G,ee),Z(L.children,G,fe,Se,ke,de,ne,pe)):Ve>0&&Ve&64&&Rt&&C.dynamicChildren?(ze(C.dynamicChildren,Rt,G,Se,ke,de,ne),(L.key!=null||Se&&L===Se.subTree)&&Jo(C,L,!0)):Nt(C,L,G,fe,Se,ke,de,ne,pe)}break;default:if(1&x)ee=c,C=d,L=f,G=g,Se=m,ke=y,de=O,ne=w,pe=_,de=de||C.type==="svg",ee==null?H(C,L,G,Se,ke,de,ne,pe):ae(ee,C,Se,ke,de,ne,pe);else if(6&x){var Ee=c,We=d,Xe=f,Li=g,Oe=m,Hn=y,Vt=O,$n=w,re=_;We.slotScopeIds=$n,Ee==null?We.shapeFlag&512?Oe.ctx.activate(We,Xe,Li,Vt,re):an(We,Xe,Li,Oe,Hn,Vt,re):Bn(Ee,We,re)}else(64&x||128&x)&&v.process(c,d,f,g,m,y,O,w,_,$)}E!=null&&m&&Or(E,c&&c.ref,y,d||c,!d)}},D=(c,d,f,g)=>{c==null?o(d.el=l(d.children||""),f,g):d.el=c.el},I=({el:c,anchor:d})=>{for(var f;c&&c!==d;)f=b(c),r(c),c=f;r(d)},H=(c,d,f,g,m,y,O,w)=>{let _,v;const{type:E,props:x,shapeFlag:S,transition:T,dirs:F}=c;if(_=c.el=a(c.type,y,x&&x.is,x),8&S?p(_,c.children):16&S&&Z(c.children,_,null,g,m,y&&E!=="foreignObject",O,w),F&&ht(c,null,g,"created"),X(_,c,c.scopeId,O,g),x){for(const C in x)C==="value"||pn(C)||i(_,C,null,x[C],y,c.children,g,m,j);"value"in x&&i(_,"value",null,x.value),(v=x.onVnodeBeforeMount)&&Be(v,g,c)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(_,"__vnode",{value:c,enumerable:!1}),Object.defineProperty(_,"__vueParentComponent",{value:g,enumerable:!1})),F&&ht(c,null,g,"beforeMount");const P=(!m||!m.pendingBranch)&&T&&!T.persisted;P&&T.beforeEnter(_),o(_,d,f),((v=x&&x.onVnodeMounted)||P||F)&&_e(()=>{v&&Be(v,g,c),P&&T.enter(_),F&&ht(c,null,g,"mounted")},m)},X=(c,d,f,g,m)=>{if(f&&k(c,f),g)for(let y=0;y<g.length;y++)k(c,g[y]);m&&d===m.subTree&&(f=m.vnode,X(c,f,f.scopeId,f.slotScopeIds,m.parent))},Z=(c,d,f,g,m,y,O,w,_=0)=>{for(let E=_;E<c.length;E++){var v=c[E]=(w?at:Ke)(c[E]);V(null,v,d,f,g,m,y,O,w)}},ae=(c,d,f,g,m,y,O)=>{var w=d.el=c.el;let{patchFlag:_,dynamicChildren:v,dirs:E}=d;_|=16&c.patchFlag;var x=c.props||R,S=d.props||R;let T;f&&vt(f,!1),(T=S.onVnodeBeforeUpdate)&&Be(T,f,d,c),E&&ht(d,c,f,"beforeUpdate"),f&&vt(f,!0);var F=m&&d.type!=="foreignObject";if(v?ze(c.dynamicChildren,v,w,f,g,F,y):O||Nt(c,d,w,null,f,g,F,y,!1),0<_){if(16&_)Pt(w,d,x,S,f,g,m);else if(2&_&&x.class!==S.class&&i(w,"class",null,S.class,m),4&_&&i(w,"style",x.style,S.style,m),8&_){var P=d.dynamicProps;for(let ee=0;ee<P.length;ee++){var C=P[ee],L=x[C],G=S[C];G===L&&C!=="value"||i(w,C,L,G,m,c.children,f,g,j)}}1&_&&c.children!==d.children&&p(w,d.children)}else O||v!=null||Pt(w,d,x,S,f,g,m);((T=S.onVnodeUpdated)||E)&&_e(()=>{T&&Be(T,f,d,c),E&&ht(d,c,f,"updated")},g)},ze=(c,d,f,g,m,y,O)=>{for(let E=0;E<d.length;E++){var w=c[E],_=d[E],v=w.el&&(w.type===ye||!tn(w,_)||70&w.shapeFlag)?h(w.el):f;V(w,_,v,null,g,m,y,O,!0)}},Pt=(c,d,f,g,m,y,O)=>{if(f!==g){if(f!==R)for(const v in f)pn(v)||v in g||i(c,v,f[v],null,O,d.children,m,y,j);for(const v in g){var w,_;pn(v)||(w=g[v])!==(_=f[v])&&v!=="value"&&i(c,v,_,w,O,d.children,m,y,j)}"value"in g&&i(c,"value",f.value,g.value)}},an=(c,d,f,_,m,y,O)=>{var w,_=c.component=za(c,_,m);Co(c)&&(_.ctx.renderer=$),qa(_),_.asyncDep?(m&&m.registerDep(_,sn),c.el||(w=_.subTree=Ge(mt),D(null,w,d,f))):sn(_,c,d,f,m,y,O)},Bn=(c,d,f)=>{var g=d.component=c.component;(function(_,y,O){var{props:w,children:_,component:v}=_,{props:E,children:x,patchFlag:S}=y,T=v.emitsOptions;if(y.dirs||y.transition)return 1;if(!(O&&0<=S))return!(!_&&!x||x&&x.$stable)||w!==E&&(w?!E||Eo(w,E,T):E);if(1024&S)return 1;if(16&S)return w?Eo(w,E,T):E;if(8&S){var F=y.dynamicProps;for(let C=0;C<F.length;C++){var P=F[C];if(E[P]!==w[P]&&!On(T,P))return 1}}})(c,d,f)?g.asyncDep&&!g.asyncResolved?lt(g,d,f):(g.next=d,c=g.update,(c=ue.indexOf(c))>Ue&&ue.splice(c,1),g.update()):(d.el=c.el,g.vnode=d)},sn=(c,d,f,g,m,y,O)=>{const w=c.effect=new or(()=>{if(c.isMounted){let{next:S,bu:T,u:F,parent:P,vnode:C}=c;var v=S;let L;vt(c,!1),S?(S.el=C.el,lt(c,S,O)):S=C,T&&hn(T),(L=S.props&&S.props.onVnodeBeforeUpdate)&&Be(L,P,S,C),vt(c,!0);var E=gr(c),x=c.subTree;c.subTree=E,V(x,E,h(x.el),Q(x),c,m,y),S.el=E.el,v===null&&ga(c,E.el),F&&_e(F,m),(L=S.props&&S.props.onVnodeUpdated)&&_e(()=>Be(L,P,S,C),m),__VUE_PROD_DEVTOOLS__&&ko(c)}else{let S;const{el:T,props:F}=d,{bm:P,m:C,parent:L}=c;if(x=Tn(d),vt(c,!1),P&&hn(P),!x&&(S=F&&F.onVnodeBeforeMount)&&Be(S,L,d),vt(c,!0),T&&Le){const G=()=>{c.subTree=gr(c),Le(T,c.subTree,c,m,null)};x?d.type.__asyncLoader().then(()=>!c.isUnmounted&&G()):G()}else v=c.subTree=gr(c),V(null,v,f,g,c,m,y),d.el=v.el;if(C&&_e(C,m),!x&&(S=F&&F.onVnodeMounted)){const G=d;_e(()=>Be(S,L,G),m)}(256&d.shapeFlag||L&&Tn(L.vnode)&&256&L.vnode.shapeFlag)&&c.a&&_e(c.a,m),c.isMounted=!0,__VUE_PROD_DEVTOOLS__&&da(c),d=f=g=null}},()=>hr(_),c.scope),_=c.update=()=>w.run();_.id=c.uid,vt(c,!0),_()},lt=(c,d,f)=>{var g=(d.component=c).vnode.props;c.vnode=d,c.next=null;{var m=c,y=d.props,O=g,{props:w,attrs:_,vnode:{patchFlag:v}}=(g=f,m),E=B(w),[x]=m.propsOptions;let P=!1;if(!(g||0<v)||16&v){jo(m,y,w,_)&&(P=!0);let C;for(const L in E)y&&(U(y,L)||(C=Ot(L))!==L&&U(y,C))||(x?!O||O[L]===void 0&&O[C]===void 0||(w[L]=kr(x,E,L,void 0,m,!0)):delete w[L]);if(_!==E)for(const L in _)y&&U(y,L)||(delete _[L],P=!0)}else if(8&v){var S=m.vnode.dynamicProps;for(let C=0;C<S.length;C++){var T,F=S[C];On(m.emitsOptions,F)||(T=y[F],!x||U(_,F)?T!==_[F]&&(_[F]=T,P=!0):w[F=Re(F)]=kr(x,E,F,T,m,!1))}}P&&Je(m,"set","$attrs")}Ra(c,d.children,f),Ft(),wo(),Ct()},Nt=(E,S,f,g,m,y,O,w,_=!1)=>{var v=E&&E.children,E=E?E.shapeFlag:0,x=S.children,{patchFlag:S,shapeFlag:T}=S;if(0<S){if(128&S)return void Ye(v,x,f,g,m,y,O,w,_);if(256&S){{var F=v,P=x,C=f;S=g;var L=m,G=y,ee=O,Se=w,ke=_;F=F||et,P=P||et;const de=F.length,ne=P.length,pe=Math.min(de,ne);let Ee;for(Ee=0;Ee<pe;Ee++){const We=P[Ee]=ke?at(P[Ee]):Ke(P[Ee]);V(F[Ee],We,C,null,L,G,ee,Se,ke)}de>ne?j(F,L,G,!0,!1,pe):Z(P,C,S,L,G,ee,Se,ke,pe)}return}}8&T?(16&E&&j(v,m,y),x!==v&&p(f,x)):16&E?16&T?Ye(v,x,f,g,m,y,O,w,_):j(v,m,y,!0):(8&E&&p(f,""),16&T&&Z(x,f,g,m,y,O,w,_))},Ye=(c,d,f,g,m,y,O,w,_)=>{let v=0;var E=d.length;let x=c.length-1,S=E-1;for(;v<=x&&v<=S;){var T=c[v],F=d[v]=(_?at:Ke)(d[v]);if(!tn(T,F))break;V(T,F,f,null,m,y,O,w,_),v++}for(;v<=x&&v<=S;){var P=c[x],C=d[S]=(_?at:Ke)(d[S]);if(!tn(P,C))break;V(P,C,f,null,m,y,O,w,_),x--,S--}if(v>x){if(v<=S)for(var L=S+1,G=L<E?d[L].el:g;v<=S;)V(null,d[v]=(_?at:Ke)(d[v]),f,G,m,y,O,w,_),v++}else if(v>S)for(;v<=x;)qe(c[v],m,y,!0),v++;else{var L=v,ee=v,Se=new Map;for(v=ee;v<=S;v++){var ke=d[v]=(_?at:Ke)(d[v]);ke.key!=null&&Se.set(ke.key,v)}let Oe,Hn=0;var de=S-ee+1;let Vt=!1,$n=0;var ne=new Array(de);for(v=0;v<de;v++)ne[v]=0;for(v=L;v<=x;v++){var pe=c[v];if(Hn>=de)qe(pe,m,y,!0);else{let re;if(pe.key!=null)re=Se.get(pe.key);else for(Oe=ee;Oe<=S;Oe++)if(ne[Oe-ee]===0&&tn(pe,d[Oe])){re=Oe;break}re===void 0?qe(pe,m,y,!0):(ne[re-ee]=v+1,re>=$n?$n=re:Vt=!0,V(pe,d[re],f,null,m,y,O,w,_),Hn++)}}var Ee=Vt?function(re){var xt=re.slice(),fe=[0];let Ve,Rt,he,ut,zn;var Gs=re.length;for(Ve=0;Ve<Gs;Ve++){var qn=re[Ve];if(qn!==0)if(Rt=fe[fe.length-1],re[Rt]<qn)xt[Ve]=Rt,fe.push(Ve);else{for(he=0,ut=fe.length-1;he<ut;)zn=he+ut>>1,re[fe[zn]]<qn?he=1+zn:ut=zn;qn<re[fe[he]]&&(0<he&&(xt[Ve]=fe[he-1]),fe[he]=Ve)}}for(he=fe.length,ut=fe[he-1];0<he--;)fe[he]=ut,ut=xt[ut];return fe}(ne):et;for(Oe=Ee.length-1,v=de-1;0<=v;v--){var Xe=ee+v,We=d[Xe],Xe=Xe+1<E?d[Xe+1].el:g;ne[v]===0?V(null,We,f,Xe,m,y,O,w,_):Vt&&(Oe<0||v!==Ee[Oe]?St(We,f,Xe,2):Oe--)}}},St=(c,d,f,g,m=null)=>{const{el:y,type:O,transition:w,children:_,shapeFlag:v}=c;if(6&v)St(c.component.subTree,d,f,g);else if(128&v)c.suspense.move(d,f,g);else if(64&v)O.move(c,d,f,$);else if(O===ye){o(y,d,f);for(let P=0;P<_.length;P++)St(_[P],d,f,g);o(c.anchor,d,f)}else if(O===Nn){for(var E,[{el:x,anchor:S},T,F]=[c,d,f];x&&x!==S;)E=b(x),o(x,T,F),x=E;o(S,T,F)}else if(g!==2&&1&v&&w)if(g===0)w.beforeEnter(y),o(y,d,f),_e(()=>w.enter(y),m);else{const{leave:P,delayLeave:C,afterLeave:L}=w,G=()=>o(y,d,f);c=()=>{P(y,()=>{G(),L&&L()})},C?C(y,G,c):c()}else o(y,d,f)},qe=(c,d,f,g=!1,m=!1)=>{var{type:y,props:O,ref:w,children:_,dynamicChildren:v,shapeFlag:E,patchFlag:x,dirs:S}=c;if(w!=null&&Or(w,null,f,c,!0),256&E)d.ctx.deactivate(c);else{const T=1&E&&S;w=!Tn(c);let F;if(w&&(F=O&&O.onVnodeBeforeUnmount)&&Be(F,d,c),6&E)we(c.component,f,g);else{if(128&E)return void c.suspense.unmount(f,g);T&&ht(c,null,d,"beforeUnmount"),64&E?c.type.remove(c,d,f,m,$,g):v&&(y!==ye||0<x&&64&x)?j(v,d,f,!1,!0):(y===ye&&384&x||!m&&16&E)&&j(_,d,f),g&&De(c)}(w&&(F=O&&O.onVnodeUnmounted)||T)&&_e(()=>{F&&Be(F,d,c),T&&ht(c,null,d,"unmounted")},f)}},De=c=>{const{type:d,el:f,anchor:g,transition:m}=c;if(d===ye){for(var y,O=f,w=g;O!==w;)y=b(O),r(O),O=y;r(w)}else if(d===Nn)I(c);else{const v=()=>{r(f),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(1&c.shapeFlag&&m&&!m.persisted){const{leave:E,delayLeave:x}=m;var _=()=>E(f,v);x?x(c.el,v,_):_()}else v()}},we=(c,d,f)=>{var{bum:g,scope:m,update:y,subTree:O,um:w}=c;g&&hn(g),m.stop(),y&&(y.active=!1,qe(O,c,d,f)),w&&_e(w,d),_e(()=>{c.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===d.pendingId&&(d.deps--,d.deps===0)&&d.resolve(),__VUE_PROD_DEVTOOLS__&&fa(c)},j=(c,d,f,g=!1,m=!1,y=0)=>{for(let O=y;O<c.length;O++)qe(c[O],d,f,g,m)},Q=c=>6&c.shapeFlag?Q(c.component.subTree):128&c.shapeFlag?c.suspense.next():b(c.anchor||c.el);n=(c,d,f)=>{c==null?d._vnode&&qe(d._vnode,null,null,!0):V(d._vnode||null,c,d,null,null,null,f),wo(),So(),d._vnode=c};const $={p:V,um:qe,m:St,r:De,mt:an,mc:Z,pc:Nt,pbc:ze,n:Q,o:e};let Te,Le;return t&&([Te,Le]=t($)),{render:n,hydrate:Te,createApp:Pa(n,Te)}},vt=function({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n},Jo=function(e,t,n=!1){var o=e.children,r=t.children;if(A(o)&&A(r))for(let a=0;a<o.length;a++){var i=o[a];let s=r[a];1&s.shapeFlag&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&((s=r[a]=at(r[a])).el=i.el),n||Jo(i,s)),s.type===Yt&&(s.el=i.el)}},W=function(e=!1){Xt.push(Ne=e?null:[])},ja=function(){Xt.pop(),Ne=Xt[Xt.length-1]||null},Zo=function(e){en+=e},Go=function(e){return e.dynamicChildren=0<en?Ne||et:null,ja(),0<en&&Ne&&Ne.push(e),e},be=function(e,t,n,o,r,i){return Go(Ae(e,t,n,o,r,i,!0))},je=function(e,t,n,o,r){return Go(Ge(e,t,n,o,r,!0))},Ka=function(e){return!!e&&e.__v_isVNode===!0},tn=function(e,t){return e.type===t.type&&e.key===t.key},Ae=function(e,t=null,n=null,o=0,r=null,i=e===ye?0:1,a=!1,s=!1){return t={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Qo(t),ref:t&&Rn(t),scopeId:Fn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ce},s?(Fr(t,n),128&i&&e.normalize(t)):n&&(t.shapeFlag|=Y(n)?8:16),0<en&&!a&&Ne&&(0<t.patchFlag||6&i)&&t.patchFlag!==32&&Ne.push(t),t},Ba=function(e,t=null,n=null,o=0,r=null,i=!1){var a;if(Ka(e=e&&e!==Lo?e:mt))return a=Mt(e,t,!0),n&&Fr(a,n),0<en&&!i&&Ne&&(6&a.shapeFlag?Ne[Ne.indexOf(e)]=a:Ne.push(a)),a.patchFlag|=-2,a;if(Za(e)&&(e=e.__vccOpts),t){let{class:s,style:l}=t=(a=t)?fo(a)||Vn in a?te({},a):a:null;s&&!Y(s)&&(t.class=Xn(s)),q(l)&&(fo(l)&&!A(l)&&(l=te({},l)),t.style=Yn(l))}return Ae(e,t,n,o,r,Y(e)?1:_a(e)?128:e.__isTeleport?64:q(e)?4:N(e)?2:0,i,!0)},Mt=function(e,t,n=!1){var{props:a,ref:o,patchFlag:r,children:i}=e,a=t?function(s){var l={};for(let b=0;b<s.length;b++){var u,p,h=s[b];for(const k in h)k==="class"?l.class!==h.class&&(l.class=Xn([l.class,h.class])):k==="style"?l.style=Yn([l.style,h.style]):cn(k)?(u=l[k],!(p=h[k])||u===p||A(u)&&u.includes(p)||(l[k]=u?[].concat(u,p):p)):k!==""&&(l[k]=h[k])}return l}([a||{},t]):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Qo(a),ref:t&&t.ref?n&&o?A(o)?o.concat(Rn(t)):[o,Rn(t)]:Rn(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ye?r===-1?16:16|r:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mt(e.ssContent),ssFallback:e.ssFallback&&Mt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}},gt=function(e=" ",t=0){return Ge(Yt,null,e,t)},ce=function(e="",t=!1){return(t?(W(),je):Ge)(mt,null,e)},Ke=function(e){return e==null||typeof e=="boolean"?Ge(mt):A(e)?Ge(ye,null,e.slice()):typeof e=="object"?at(e):Ge(Yt,null,String(e))},at=function(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Mt(e)},Fr=function(e,t){let n=0;var o,r=e.shapeFlag;if(t==null)t=null;else if(A(t))n=16;else if(typeof t=="object"){if(65&r)return void((o=t.default)&&(o._c&&(o._d=!1),Fr(e,o()),o._c)&&(o._d=!0));n=32,(o=t._)||Vn in t?o===3&&Ce&&(Ce.slots._===1?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Ce}else N(t)?(t={default:t,_ctx:Ce},n=32):(t=String(t),64&r?(n=16,t=[gt(t)]):n=8);e.children=t,e.shapeFlag|=n},Be=function(e,t,n,o=null){Pe(e,t,7,[n,o])},za=function(e,t,n){var o=e.type,r=(t||e).appContext||Ha,r={uid:$a++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Hi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:function i(a,s,l=!1){var u=s.propsCache,p=u.get(a);if(p)return p;var h=a.props;const b={},k=[];let M=!1;if(__VUE_OPTIONS_API__&&!N(a)&&(p=ae=>{M=!0;var[ae,ze]=i(ae,s,!0);te(b,ae),ze&&k.push(...ze)},!l&&s.mixins.length&&s.mixins.forEach(p),a.extends&&p(a.extends),a.mixins)&&a.mixins.forEach(p),!h&&!M)return q(a)&&u.set(a,et),et;if(A(h))for(let Z=0;Z<h.length;Z++){var V=Re(h[Z]);Ko(V)&&(b[V]=R)}else if(h)for(const Z in h){var D,I,H,X=Re(Z);Ko(X)&&(D=h[Z],D=b[X]=A(D)||N(D)?{type:D}:te({},D))&&(I=$o(Boolean,D.type),H=$o(String,D.type),D[0]=-1<I,D[1]=H<0||I<H,-1<I||U(D,"default"))&&k.push(X)}return l=[b,k],q(a)&&u.set(a,l),l}(o,r),emitsOptions:function i(a,s,l=!1){var u=s.emitsCache,h=u.get(a);if(h!==void 0)return h;var p,h=a.emits;let b={},k=!1;return __VUE_OPTIONS_API__&&!N(a)&&(p=M=>{(M=i(M,s,!0))&&(k=!0,te(b,M))},!l&&s.mixins.length&&s.mixins.forEach(p),a.extends&&p(a.extends),a.mixins)&&a.mixins.forEach(p),h||k?(A(h)?h.forEach(M=>b[M]=null):te(b,h),q(a)&&u.set(a,b),b):(q(a)&&u.set(a,null),null)}(o,r),emit:null,emitted:null,propsDefaults:R,inheritAttrs:o.inheritAttrs,ctx:R,data:R,props:R,attrs:R,slots:R,refs:R,setupState:R,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=ha.bind(null,r),e.ce&&e.ce(r),r},Yo=function(e){return 4&e.vnode.shapeFlag},qa=function(e,t=!1){rn=t;var{props:r,children:n}=e.vnode,o=Yo(e),r=(Na(e,r,o,t),Va(e,n),o?function(i,a){var s=i.type;if(i.accessCache=Object.create(null),i.proxy=ho(new Proxy(i.ctx,Io)),s=s.setup,s){var l=i.setupContext=1<s.length?Wa(i):null,s=(It(i),Ft(),ot(s,i,0,[i.props,l]));if(Ct(),_t(),Ur(s)){if(s.then(_t,_t),a)return s.then(p=>{Xo(i,p,a)}).catch(p=>{kn(p,i,0)});i.asyncDep=s}else Xo(i,s,a)}else ni(i,a)}(e,t):void 0);return rn=!1,r},Xo=function(e,t,n){N(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:q(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=_o(t)),ni(e,n)},ni=function(e,t){var n,o,r,i,a=e.type;e.render||(t||!ei||a.render||(t=a.template||Sr(e).template)&&({isCustomElement:i,compilerOptions:n}=e.appContext.config,{delimiters:o,compilerOptions:r}=a,i=te(te({isCustomElement:i,delimiters:o},n),r),a.render=ei(t,i)),e.render=a.render||me,ti&&ti(e)),__VUE_OPTIONS_API__&&(It(e),Ft(),La(e),Ct(),_t())},Wa=function(e){return{get attrs(){return(t=e).attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(n,o){return ge(t,0,"$attrs"),n[o]}}));var t},slots:e.slots,emit:e.emit,expose:t=>{e.exposed=t||{}}}},Un=function(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(_o(ho(e.exposed)),{get(t,n){return n in t?t[n]:n in Gt?Gt[n](e):void 0},has(t,n){return n in t||n in Gt}}))},Ja=function(e,t=!0){return N(e)?e.displayName||e.name:e.name||t&&e.__name},Za=function(e){return N(e)&&"__vccOpts"in e},Ar=function(e,t,n){var o;A(n)?n.forEach(r=>Ar(e,t,r)):(n==null&&(n=""),t.startsWith("--")?e.setProperty(t,n):(o=function(r,i){var a=Dr[i];if(a)return a;var s=Re(i);if(s!=="filter"&&s in r)return Dr[i]=s;s=fn(s);for(let u=0;u<ai.length;u++){var l=ai[u]+s;if(l in r)return Dr[i]=l}return i}(e,t),ii.test(n)?e.setProperty(Ot(o),n.replace(ii,""),"important"):e[o]=n))},li=function(e,t,n,o){e.addEventListener(t,n,o)},Xa=function(e,t,n,o,r=null){var i,a,s=e._vei||(e._vei={}),l=s[t];o&&l?l.value=o:([i,a]=function(u){let p;if(ui.test(u)){var h;for(p={};h=u.match(ui);)u=u.slice(0,u.length-h[0].length),p[h[0].toLowerCase()]=!0}var b=u[2]===":"?u.slice(3):Ot(u.slice(2));return[b,p]}(t),o?li(e,i,s[t]=function(u,p){const h=b=>{if(b._vts){if(b._vts<=h.attached)return}else b._vts=Date.now();Pe(function(k,M){{if(A(M)){const V=k.stopImmediatePropagation;return k.stopImmediatePropagation=()=>{V.call(k),k._stopped=!0},M.map(D=>I=>!I._stopped&&D&&D(I))}return M}}(b,h.value),p,5,[b])};return h.value=u,h.attached=ts(),h}(o,r),a):l&&(e.removeEventListener(i,l,a),s[t]=void 0))},pi=function(e,{value:t,oldValue:n},o){e._modelValue=t,A(t)?e.checked=-1<$r(t,o.props.value):dn(t)?e.checked=t.has(o.props.value):t!==n&&(e.checked=mn(t,fi(e,!0)))},os=function(e){return"_value"in e?e._value:e.value},fi=function(e,t){var n=t?"_trueValue":"_falseValue";return n in e?e[n]:t},as=function(){return hi=hi||Ua(is)},ss=function(e){return Y(e)?document.querySelector(e):e},Ss=function(e,t){var n,o,r;n=this,o=null,r=function*(){var i=document.createElement("div"),a=vi(ws,t.data.settingConfig),a=(a.mount(i),new z.Menu("topBarSample")),s=e.target.getBoundingClientRect(),l=new z.Menu("FlashePlugin",()=>{}).addItem({id:"pickrMenu"}).parentElement;l.innerHTML="",l.append(i),Lr?a.fullscreen():a.open({x:s.right,y:s.bottom,isLeft:!0})},new Promise((i,a)=>{var s=p=>{try{u(r.next(p))}catch(h){a(h)}},l=p=>{try{u(r.throw(p))}catch(h){a(h)}},u=p=>p.done?i(p.value):Promise.resolve(p.value).then(s,l);u((r=r.apply(n,o)).next())})},gi=function(e,t){Array.from(e).forEach(function(n){t(n)})},Mr=function(e){var t;return e==null||(t=e.getAttribute)!=null&&t!=""&&e.getAttribute("data-node-id")!==null?e:Mr(e.parentElement)},on=function(e,t=null,n="POST"){return new Promise((o,r)=>{n.toUpperCase()=="POST"&&fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(i=>o(i.json()),i=>{r(i)}).catch(i=>{})})},jn=function(){if(Lr)return document.querySelector("#editor .protyle-content");try{let e=document.querySelector(".b3-dialog--open");return(e=e===null?document.querySelector(".layout__wnd--active"):e).querySelector(".fn__flex-1.protyle:not(.fn__none)")}catch{bt("\u672A\u80FD\u83B7\u53D6\u5230\u9875\u9762\u7126\u70B9\uFF01")}throw new Error("\u672A\u80FD\u83B7\u53D6\u5230\u9875\u9762\u7126\u70B9\uFF01")},Kn=function(e,t){if(!e&&e.length<=0)return[];e.length;var n,o=[];for(n of e){var r=t(n);r.status==="ok"&&r.data&&o.push(r.data)}return o},Ls=function(e){return/(>>|(》》)|(\|\|)|(\?)|(？))\s?\u200b?$/.test(e.innerText)?{status:"ok",data:e.parentElement.getAttribute("data-node-id")}:{status:"no",data:null}},Ms=function(e){return{status:"ok",data:function t(n){return n!=null&&n.getAttribute("data-node-id")===null?t(n.parentElement):n}(e).getAttribute("data-node-id")}},Is=function(e){return{status:"ok",data:e.getAttribute("data-node-id")}},Ns=function(e){return{status:"ok",data:e.getAttribute("data-node-id")}},bi=function(e,t){return{content:e,status:He.setting(go(t[e]),e)}},wi=function(e){var t,n=[];for(t of _i)n.push(bi(t,e));var o,r=[];for(o of yi)r.push(bi(o,e));return{beautifulFeature:n,labFeature:r,dangerousFeature:[{content:"\u6E05\u9664\u5F53\u9875\u95EA\u5361",func:Vs}]}},Rs=function(e){return t=this,n=null,o=function*(){if(e)return wi(e);var r,i,a={};for(r of _i)a[r]=!1;for(i of yi)a[i]=!1;return a.\u5185\u7F6E\u5361\u5305\u5236\u5361=!0,wi(a)},new Promise((r,i)=>{var a=u=>{try{l(o.next(u))}catch(p){i(p)}},s=u=>{try{l(o.throw(u))}catch(p){i(p)}},l=u=>u.done?r(u.value):Promise.resolve(u.value).then(a,s);l((o=o.apply(t,n)).next())});var t,n,o},Us=function(e){He.getSetting().\u6C89\u6D78\u5F0F\u5236\u5361&&gi(e.data,n=>{gi(n.doOperations,o=>{var r,i=o.action,l=(l=o).data!==null&&((r=document.createElement("div")).innerHTML=l.data,r.querySelectorAll("span[data-type*='mark']").length!=0),a=(r=o).data!==null&&((a=document.createElement("div")).innerHTML=r.data,a.querySelectorAll("[custom-riff-decks]").length!=0),s=(i==="insert"||i==="update")&&l&&!a,l=i==="update"&&!l&&a||i==="delete";s&&function(u){Nr(this,null,function*(){var p={deckID:Si,blockIDs:[u]};(0,z.fetchPost)("/api/riff/addRiffCards",p,h=>{})})}(o.id),l&&function(u){Nr(this,null,function*(){var p={deckID:Si,blockIDs:[u]};(0,z.fetchPost)("/api/riff/removeRiffCards",p,h=>{})})}(o.id)})})},xi=function(){kt(this,null,function*(){var e,t;!He.getSetting().\u6E10\u8FDB\u5F0F\u9605\u8BFB||(e=function(n){var o=jn(),r=o.querySelector(".protyle-wysiwyg--select")!=null;let i;return i=r?function(h,s){let l,u,p;var h=h.getElementsByTagName("div"),h=Array.from(h).filter(V=>V.classList.contains("protyle-wysiwyg--select")),b=document.createElement("div");for(var k of h){(function(V){var D=V.getAttribute("data-node-id");(0,z.fetchSyncPost)("/api/attr/setBlockAttrs",{id:D,attrs:{style:"background-color: var(--b3-font-background1);"}}),V.classList.remove("protyle-wysiwyg--select")})(k);var M=k.cloneNode(!0);p=k.getAttribute("data-node-id"),M.setAttribute("data-node-id",Ai()),b.appendChild(M)}switch(s){case"StdMd":l=Qe.BlockDOM2StdMd(b.innerHTML);break;case"Md":l=Qe.BlockDOM2Md(b.innerHTML)}return u=Qe.BlockDOM2Content(b.innerHTML),[l+=`
((${p} "\u6765\u6E90"))`,u,p]}(o,n):function(a){let s,l,u=getSelection().getRangeAt(0),p=u.cloneContents(),h=Di(u),b=(Ci(u),document.createElement("div"));switch(b.appendChild(p),a){case"StdMd":s=Qe.BlockDOM2StdMd(b.innerHTML);break;case"Md":s=Qe.BlockDOM2Md(b.innerHTML)}return l=Qe.BlockDOM2Content(b.innerHTML),[s+=`
((${h} "\u6765\u6E90"))`,l,h]}(n),i}("Md"))[0].length<=1||(Fi(t=yield Oi(e[1],e[2]),e[0]),Ti(t))})},ki=function(){kt(this,null,function*(){var e;!He.getSetting().\u6E10\u8FDB\u5F0F\u9605\u8BFB||(e=function(t){let n,o,r=getSelection().getRangeAt(0),i=Mr(r.startContainer),a=(function(p){getSelection();var h=document.createElement("span");h.append(p.cloneContents()),h.setAttribute("data-type","mark"),p.deleteContents(),p.insertNode(h)}(r),Ai()),s=i.cloneNode(!0),l=(s.setAttribute("data-node-id",a),Di(r)),u=(Ci(r),document.createElement("div"));switch(u.appendChild(s),t){case"StdMd":n=Qe.BlockDOM2StdMd(u.innerHTML);break;case"Md":n=Qe.BlockDOM2Md(u.innerHTML)}return o=Qe.BlockDOM2Content(u.innerHTML),[n=`((${l} "*"))`+n,o,l,a]}("Md"))[0].length<=1||(Fi(yield Oi("\u6316\u7A7A",e[2]),e[0]),Ti(e[3]))})},Ei=function(){He.getSetting().\u6E10\u8FDB\u5F0F\u9605\u8BFB},Oi=function(e,t){return kt(this,null,function*(){var[,r,n]=yield function(i){return kt(this,null,function*(){var a=yield(0,z.fetchSyncPost)("/api/query/sql",{stmt:`SELECT root_id, box, hpath FROM blocks WHERE id == "${i}"`});if(a.code==0)return[a.data[0].root_id,a.data[0].box,a.data[0].hpath]})}(t),o=e.slice(0,15).replace(/\r\n|\r|\n|\u2028|\u2029|\t|\//g,""),r=yield(0,z.fetchSyncPost)("/api/filetree/createDocWithMd",{notebook:r,path:n+"/"+o,markdown:""});return r.code!=0?"":r.data})},Fi=function(e,t){kt(this,null,function*(){var n=yield(0,z.fetchSyncPost)("/api/block/prependBlock",{dataType:"markdown",data:t,nextID:"",previousID:"",parentID:e});return n.code!=0?"":n.data})},Ci=function(e){var t=getSelection(),n=document.createElement("span");n.append(e.cloneContents()),n.setAttribute("style","background-color: var(--b3-font-background1);"),e.deleteContents(),e.insertNode(n),e.setStartAfter(n),e.collapse(!0),t.removeAllRanges(),t.addRange(e),document.querySelector("#layouts  div.fn__flex-1.protyle > div.protyle-toolbar").classList.add("fn__none");{let o=document.querySelector(".card__block.fn__flex-1.protyle:not(.fn__none) .protyle-wysiwyg.protyle-wysiwyg--attr");o===null&&(o=document.querySelector(".fn__flex-1.protyle:not(.fn__none) .protyle-wysiwyg.protyle-wysiwyg--attr")),(n=document.createEvent("HTMLEvents")).initEvent("input",!0,!1),o.dispatchEvent(n)}},Ai=function(){return globalThis.Lute.NewNodeID()},Di=function(e){return Mr(e.startContainer).getAttribute("data-node-id")},Ti=function(e){kt(this,null,function*(){var t={deckID:Js,blockIDs:[e]};(0,z.fetchSyncPost)("/api/riff/addRiffCards",t)})};Fe.r(Wn),Fe.d(Wn,{default:()=>Zs});const z=require("siyuan"),R={},et=[],me=()=>{},ln=()=>!1,un=/^on[^a-z]/,cn=e=>un.test(e),Jn=e=>e.startsWith("onUpdate:"),te=Object.assign,Zn=(e,t)=>{t=e.indexOf(t),-1<t&&e.splice(t,1)},Ii=Object.prototype.hasOwnProperty,U=(e,t)=>Ii.call(e,t),A=Array.isArray,Et=e=>Kt(e)==="[object Map]",dn=e=>Kt(e)==="[object Set]",Rr=e=>Kt(e)==="[object Date]",N=e=>typeof e=="function",Y=e=>typeof e=="string",jt=e=>typeof e=="symbol",q=e=>e!==null&&typeof e=="object",Ur=e=>q(e)&&N(e.then)&&N(e.catch),jr=Object.prototype.toString,Kt=e=>jr.call(e),Pi=e=>Kt(e).slice(8,-1),Kr=e=>Kt(e)==="[object Object]",Gn=e=>Y(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,pn=oe(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted");var K;const Ni=/-(\w)/g,Re=(K=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))})(e=>e.replace(Ni,(t,n)=>n?n.toUpperCase():"")),Vi=/\B([A-Z])/g,Ot=K(e=>e.replace(Vi,"-$1").toLowerCase()),fn=K(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qn=K(e=>e?"on"+fn(e):""),Bt=(e,t)=>!Object.is(e,t),hn=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},vn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Ri=e=>{var t=parseFloat(e);return isNaN(t)?e:t};let Br;const Ht=()=>Br=Br||(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Fe.g!==void 0?Fe.g:{}),Ui=/;(?![^(]*\))/g,ji=/:([^]+)/,Ki=/\/\*[^]*?\*\//g,Bi=oe(K="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly"),zr=e=>Y(e)?e:e==null?"":A(e)||q(e)&&(e.toString===jr||!N(e.toString))?JSON.stringify(e,qr,2):String(e),qr=(e,t)=>t&&t.__v_isRef?qr(e,t.value):Et(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r])=>(n[o+" =>"]=r,n),{})}:dn(t)?{[`Set(${t.size})`]:[...t.values()]}:!q(t)||A(t)||Kr(t)?t:String(t);let Me;class Hi{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Me,!t&&Me&&(this.index=(Me.scopes||(Me.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){var n=Me;try{return Me=this,t()}finally{Me=n}}}on(){Me=this}off(){Me=this.parent}stop(t){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.detached||!this.parent||t||(t=this.parent.scopes.pop())&&t!==this&&((this.parent.scopes[this.index]=t).index=this.index),this.parent=void 0,this._active=!1}}}const er=e=>(e=new Set(e),e.w=0,e.n=0,e),Wr=e=>0<(e.w&tt),Jr=e=>0<(e.n&tt),tr=new WeakMap;let $t=0,tt=1;const nr=30;let Ie;const ct=Symbol(""),rr=Symbol("");class or{constructor(t,n=null,o){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,$i(this,o)}run(){if(!this.active)return this.fn();let t=Ie;for(var n=nt;t;){if(t===this)return;t=t.parent}try{if(this.parent=Ie,Ie=this,nt=!0,tt=1<<++$t,$t<=nr){var o=[this.deps][0];if(o.length)for(let s=0;s<o.length;s++)o[s].w|=tt}else Zr(this);return this.fn()}finally{if($t<=nr){var r=this,i=r.deps;if(i.length){let s=0;for(let l=0;l<i.length;l++){var a=i[l];Wr(a)&&!Jr(a)?a.delete(r):i[s++]=a,a.w&=~tt,a.n&=~tt}i.length=s}}tt=1<<--$t,Ie=this.parent,nt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ie===this?this.deferStop=!0:this.active&&(Zr(this),this.onStop&&this.onStop(),this.active=!1)}}let nt=!0;const Gr=[],zi=oe("__proto__,__v_isRef,__isVue"),Xr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(jt));var K=ar(),se=ar(!1,!0),Ut=ar(!0);const eo=qi(),no={get:K,set:to(),deleteProperty:function(e,t){var n=U(e,t),o=(e[t],Reflect.deleteProperty(e,t));return o&&n&&Je(e,"delete",t,void 0),o},has:function(e,t){var n=Reflect.has(e,t);return jt(t)&&Xr.has(t)||ge(e,0,t),n},ownKeys:function(e){return ge(e,0,A(e)?"length":ct),Reflect.ownKeys(e)}},ro={get:Ut,set(e,t){return!0},deleteProperty(e,t){return!0}},Ji=te({},no,{get:se,set:to(!0)}),sr=e=>e,gn=e=>Reflect.getPrototypeOf(e),[Gi,Qi,Yi,Xi]=Zi(),ea={get:lr(!1,!1)},ta={get:lr(!1,!0)},na={get:lr(!0,!1)},lo=new WeakMap,uo=new WeakMap,co=new WeakMap,ra=new WeakMap,zt=e=>q(e)?ur(e):e,dr=e=>q(e)?po(e):e;class ia{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:B(t),this._value=n?t:zt(t)}get value(){return vo(this),this._value}set value(t){var n=this.__v_isShallow||xn(t)||Dt(t);t=n?t:B(t),Bt(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:zt(t),mo(this))}}const sa={get:(e,t,n)=>aa(Reflect.get(e,t,n)),set:(e,t,n,o)=>{var r=e[t];return le(r)&&!le(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};class la{constructor(t,n,o,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new or(t,()=>{this._dirty||(this._dirty=!0,mo(this))}),(this.effect.computed=this).effect.active=this._cacheable=!r,this.__v_isReadonly=o}get value(){var t=B(this);return vo(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}let qt=!1,pr=!1;const ue=[];let Ue=0;const Tt=[];let it=null,dt=0;const yo=Promise.resolve();let fr=null;const Wt=e=>e.id==null?1/0:e.id,ca=(e,t)=>{var n=Wt(e)-Wt(t);if(n==0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};let Ze,Jt=[],vr=!1;const da=mr("component:added"),ko=mr("component:updated"),pa=mr("component:removed"),fa=e=>{Ze&&typeof Ze.cleanupBuffer=="function"&&!Ze.cleanupBuffer(e)&&pa(e)};let Ce=null,Fn=null;const va=e=>{let t;for(const n in e)n!=="class"&&n!=="style"&&!cn(n)||((t=t||{})[n]=e[n]);return t},ma=(e,t)=>{var n={};for(const o in e)Jn(o)&&o.slice(9)in t||(n[o]=e[o]);return n},_a=e=>e.__isSuspense,An={};K=[Function,Array],Ut={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:K,onEnter:K,onAfterEnter:K,onEnterCancelled:K,onBeforeLeave:K,onLeave:K,onAfterLeave:K,onLeaveCancelled:K,onBeforeAppear:K,onAppear:K,onAfterAppear:K,onAppearCancelled:K};const Tn=e=>!!e.type.__asyncLoader,Co=e=>e.type.__isKeepAlive,Sa=(se=e=>(t,n=ie)=>(!rn||e==="sp")&&Ln(e,(...o)=>t(...o),n))("bm"),xa=se("m"),ka=se("bu"),Ea=se("u"),Oa=se("bum"),Do=se("um"),Fa=se("sp"),Ca=se("rtg"),Aa=se("rtc"),To="components",Lo=Symbol.for("v-ndc"),yr=e=>e?Yo(e)?Un(e)||e.proxy:yr(e.parent):null,Gt=te(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>yr(e.parent),$root:e=>yr(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?Sr(e):e.type,$forceUpdate:e=>e.f||(e.f=()=>hr(e.update)),$nextTick:e=>e.n||(e.n=function(t){var n=fr||yo;return t?n.then(this?t.bind(this):t):n}.bind(e.proxy)),$watch:e=>__VUE_OPTIONS_API__?function(t,n,o){const r=this.proxy;var i=Y(t)?t.includes(".")?Fo(r,t):()=>r[t]:t.bind(r,r);let a;return N(n)?a=n:(a=n.handler,o=n),n=ie,It(this),i=Oo(i,a.bind(r),o),n?It(n):_t(),i}.bind(e):me}),br=(e,t)=>e!==R&&!e.__isScriptSetup&&U(e,t),Io={get({_:e},t){var{ctx:n,setupState:o,data:r,props:i,accessCache:a,type:s,appContext:l}=e;if(t[0]!=="$"){var u=a[t];if(u!==void 0)switch(u){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(br(o,t))return a[t]=1,o[t];if(r!==R&&U(r,t))return a[t]=2,r[t];if((u=e.propsOptions[0])&&U(u,t))return a[t]=3,i[t];if(n!==R&&U(n,t))return a[t]=4,n[t];__VUE_OPTIONS_API__&&!wr||(a[t]=0)}}u=Gt[t];let p,h;return u?(t==="$attrs"&&ge(e,0,t),u(e)):(p=(p=s.__cssModules)&&p[t])||(n!==R&&U(n,t)?(a[t]=4,n[t]):(h=l.config.globalProperties,U(h,t)?h[t]:void 0))},set({_:e},t,n){var{data:o,setupState:r,ctx:i}=e;if(br(r,t))r[t]=n;else if(o!==R&&U(o,t))o[t]=n;else{if(U(e.props,t)||t[0]==="$"&&t.slice(1)in e)return!1;i[t]=n}return!0},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:i}},a){return!!n[a]||e!==R&&U(e,a)||br(t,a)||(n=i[0])&&U(n,a)||U(o,a)||U(Gt,a)||U(r.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:U(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let wr=!0;const Ma={data:Vo,props:Ro,emits:Ro,methods:Qt,computed:Qt,beforeCreate:ve,created:ve,beforeMount:ve,mounted:ve,beforeUpdate:ve,updated:ve,beforeDestroy:ve,beforeUnmount:ve,destroyed:ve,unmounted:ve,activated:ve,deactivated:ve,errorCaptured:ve,serverPrefetch:ve,components:Qt,directives:Qt,watch:function(e,t){if(!e)return t;if(!t)return e;var n=te(Object.create(null),e);for(const o in t)n[o]=ve(e[o],t[o]);return n},provide:Vo,inject:function(e,t){return Qt(xr(e),xr(t))}};let Ia=0,In=null;const zo=e=>e[0]==="_"||e==="$stable",Er=e=>A(e)?e.map(Ke):[Ke(e)],qo=(e,t,n)=>{var o=e._ctx;for(const i in e)if(!zo(i)){var r=e[i];if(N(r))t[i]=((a,s)=>a._n?a:((s=pt((...l)=>Er(a(...l)),s))._c=!1,s))(r,o);else if(r!=null){const a=Er(r);t[i]=()=>a}}},Wo=(e,t)=>{const n=Er(t);e.slots.default=()=>n},Va=(e,t)=>{var n;32&e.vnode.shapeFlag?(n=t._)?(e.slots=B(t),vn(t,"_",n)):qo(t,e.slots={}):(e.slots={},t&&Wo(e,t)),vn(e.slots,Vn,1)},Ra=(e,t,n)=>{var{vnode:o,slots:r}=e;let i=!0,a=R;if(32&o.shapeFlag?((o=t._)?n&&o===1?i=!1:(te(r,t),n||o!==1||delete r._):(i=!t.$stable,qo(t,r)),a=t):t&&(Wo(e,t),a={default:1}),i)for(const s in r)zo(s)||s in a||delete r[s]},_e=ya,ye=Symbol.for("v-fgt"),Yt=Symbol.for("v-txt"),mt=Symbol.for("v-cmt"),Nn=Symbol.for("v-stc"),Xt=[];let Ne=null,en=1;const Vn="__vInternal",Qo=({key:e})=>e??null,Rn=({ref:e,ref_key:t,ref_for:n})=>(e=typeof e=="number"?""+e:e)!=null?Y(e)||le(e)||N(e)?{i:Ce,r:e,k:t,f:!!n}:e:null,Ge=Ba,Ha=Uo();let $a=0,ie=null,Cr,nn;K="__VUE_INSTANCE_SETTERS__",(nn=(nn=Ht()[K])||(Ht()[K]=[])).push(e=>ie=e),Cr=e=>{1<nn.length?nn.forEach(t=>t(e)):nn[0](e)};const It=e=>{Cr(e),e.scope.on()},_t=()=>{ie&&ie.scope.off(),Cr(null)};let rn=!1,ei,ti;const Ga=(e,t)=>{{var[e,n=!1]=[e,rn];let i,a;var o=N(e);return a=o?(i=e,me):(i=e.get,e.set),e=new la(i,a,o||!a,n)}},Qa=Symbol.for("v-scx"),Ya=()=>{var e=Pn(Qa);return e},ri="3.3.4",yt=typeof document<"u"?document:null,oi=yt&&yt.createElement("template"),ii=(se={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{var t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>(t=t?yt.createElementNS("http://www.w3.org/2000/svg",e):yt.createElement(e,n?{is:n}:void 0),e==="select"&&o&&o.multiple!=null&&t.setAttribute("multiple",o.multiple),t),createText:e=>yt.createTextNode(e),createComment:e=>yt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>yt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,i){var a=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{oi.innerHTML=o?`<svg>${e}</svg>`:e;var s=oi.content;if(o){for(var l=s.firstChild;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},/\s*!important$/),ai=["Webkit","Moz","ms"],Dr={},si="http://www.w3.org/1999/xlink",ui=/(?:Once|Passive|Capture)$/;let Tr=0;const es=Promise.resolve(),ts=()=>Tr||(es.then(()=>Tr=0),Tr=Date.now()),ci=/^on[a-z]/,ns=(class extends null{},{name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String}),di=e=>{const t=e.props["onUpdate:modelValue"]||!1;return A(t)?n=>hn(t,n):t},rs={deep:!0,created(e,t,n){e._assign=di(n),li(e,"change",()=>{var o,r,i=e._modelValue,a=os(e),s=e.checked,l=e._assign;A(i)?(o=(r=$r(i,a))!==-1,s&&!o?l(i.concat(a)):!s&&o&&((o=[...i]).splice(r,1),l(o))):dn(i)?(r=new Set(i),s?r.add(a):r.delete(a),l(r)):l(fi(e,s))})},mounted:pi,beforeUpdate(e,t,n){e._assign=di(n),pi(e,t,n)}},is=te({patchProp:(e,t,n,o,r=!1,i,a,s,l)=>{if(t==="class")M=o,V=r,D=(k=e)._vtc,(M=D?(M?[M,...D]:[...D]).join(" "):M)==null?k.removeAttribute("class"):V?k.setAttribute("class",M):k.className=M;else if(t==="style"){var D=e,V=n,u=o,p=D.style,k=Y(u);if(u&&!k){if(V&&!Y(V))for(const Z in V)u[Z]==null&&Ar(p,Z,"");for(const Z in u)Ar(p,Z,u[Z])}else M=p.display,k?V!==u&&(p.cssText=u):V&&D.removeAttribute("style"),"_vod"in D&&(p.display=M)}else if(cn(t))Jn(t)||Xa(e,t,0,o,a);else if(t[0]==="."?(t=t.slice(1),1):t[0]==="^"?(t=t.slice(1),0):function(I,H,X,Z){if(Z)return H==="innerHTML"||H==="textContent"||!!(H in I&&ci.test(H)&&N(X));if(!(H==="spellcheck"||H==="draggable"||H==="translate")&&H!=="form"&&!(H==="list"&&I.tagName==="INPUT")&&!(H==="type"&&I.tagName==="TEXTAREA")&&!(ci.test(H)&&Y(X)))return H in I}(e,t,o,r)){var n=e,h=t,b=o;if(h==="innerHTML"||h==="textContent")i&&l(i,a,s),n[h]=b??"";else if(l=n.tagName,h!=="value"||l==="PROGRESS"||l.includes("-")){let H=!1;b!==""&&b!=null||((i=typeof n[h])=="boolean"?b=Hr(b):b==null&&i=="string"?(b="",H=!0):i=="number"&&(b=0,H=!0));try{n[h]=b}catch{}H&&n.removeAttribute(h)}else a=(n._value=b)==null?"":b,(l==="OPTION"?n.getAttribute("value"):n.value)!==a&&(n.value=a),b==null&&n.removeAttribute(h)}else t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),s=e,i=t,l=o,(a=r)&&i.startsWith("xlink:")?l==null?s.removeAttributeNS(si,i.slice(6,i.length)):s.setAttributeNS(si,i,l):(a=Bi(i),l==null||a&&!Hr(l)?s.removeAttribute(i):s.setAttribute(i,a?"":l));var k,M,V,D}},se);let hi;const vi=(...e)=>{const t=as().createApp(...e),n=t.mount;return t.mount=i=>{var r,i=ss(i);if(i)return r=t._component,N(r)||r.render||r.template||(r.template=i.innerHTML),i.innerHTML="",r=n(i,!1,i instanceof SVGElement),i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t},ls={id:"option"},us={id:"content"},cs={style:{float:"left"}},ds=["id"],mi=(K=Dn({__name:"Option",props:{open:Boolean,name:String},setup(e){const t=go(e.open);return(n,o)=>(W(),be("div",ls,[Ae("div",us,[Ae("span",cs,zr(e.name),1),ce(` <n-switch v-model:value="status" @update:value="$emit('update:open', status)" style="float: right;"></n-switch> `),function(r,i){var a=Ce;if(a!==null){var s=Un(a)||a.proxy,l=r.dirs||(r.dirs=[]);for(let u=0;u<i.length;u++){let[p,h,b,k=R]=i[u];p&&((p=N(p)?{mounted:p,updated:p}:p).deep&&ft(h),l.push({dir:p,instance:s,value:h,oldValue:void 0,arg:b,modifiers:k}))}}return r}(Ae("input",{class:"b3-switch fn__flex-center",id:e.name,type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=r=>t.value=r),onChange:o[1]||(o[1]=r=>n.$emit("update:open",t.value))},null,40,ds),[[rs,t.value]])])]))}}),(0,(Ut=Fe(80)).Z)(K,[["__scopeId","data-v-5d1dc7d4"]])),ps={id:"option"},fs={id:"content"},hs={style:{float:"left",margin:"auto 0"}},vs=(se=Dn({__name:"MyButton",props:{name:String,clickFunc:Function},setup(e){const t=e;return(n,o)=>(W(),be("div",ps,[Ae("div",fs,[Ae("span",hs,zr(e.name),1),ce(' <n-button @click="props.clickFunc" style="float: right" size="tiny" color="#f6385e"> warn </n-button> '),Ae("button",{class:"fn__flex-center b3-button b3-button--error",onClick:o[0]||(o[0]=(...r)=>t.clickFunc&&t.clickFunc(...r))}," warn ")])]))}}),(0,Ut.Z)(se,[["__scopeId","data-v-b0edbe6a"]])),ms={style:{"min-width":"250px"},class:"menu"},gs=(K=e=>(Fn="data-v-06ff44db",e=e(),Fn=null,e))(()=>Ae("div",{style:{color:"var(--b3-theme-on-background)","font-size":"1.35em",margin:"20px 0px"}}," \u7BA1\u7406\u754C\u9762 ",-1)),_s=K(()=>Ae("div",{class:"option"}," \u5371\u9669\u529F\u80FD ",-1)),ys=K(()=>Ae("div",{class:"option"}," \u7F8E\u5316\u529F\u80FD ",-1)),bs=K(()=>Ae("div",{class:"option"}," \u5B9E\u9A8C\u529F\u80FD ",-1)),ws=(se=Dn({__name:"App",props:{beautifulFeature:Array,labFeature:Array,dangerousFeature:Array},setup(e){return(t,n)=>(W(),be("div",ms,[gs,_s,(W(!0),be(ye,null,_r(e.dangerousFeature,o=>(W(),je(vs,{name:o.content,"click-func":o.func},null,8,["name","click-func"]))),256)),ys,(W(!0),be(ye,null,_r(e.beautifulFeature,o=>(W(),je(mi,{name:o.content,open:o.status.value,"onUpdate:open":r=>o.status.value=r},null,8,["name","open","onUpdate:open"]))),256)),bs,(W(!0),be(ye,null,_r(e.labFeature,o=>(W(),je(mi,{name:o.content,open:o.status.value,"onUpdate:open":r=>o.status.value=r},null,8,["name","open","onUpdate:open"]))),256))]))}}),(0,Ut.Z)(se,[["__scopeId","data-v-06ff44db"]])),Lr=(K=(0,z.getFrontend)())==="mobile"||K==="browser-mobile",xs={key:0},ks={key:0},Es={key:1},Os={key:2},Fs={key:3},Cs={key:1},As={key:0},Ds=Dn({__name:"sheet",props:{beautifulFeature:Array,labFeature:Array,dangerousFeature:Array},setup(e){return(t,n)=>(W(),be(ye,null,[e.beautifulFeature?(W(),be("div",xs,[ce(" \u95EA\u5361\u6837\u5F0F\u589E\u5F3A "),e.beautifulFeature[0].status.value?(W(),be("div",ks,[(W(),je(Lt("style"),null,{default:pt(()=>[gt(" /* \u95EA\u5361\u6837\u5F0F\u589E\u5F3A v0.04 */ .protyle-wysiwyg .li[data-node-id][custom-riff-decks] { position: relative; display: block; border-left: 0.15em solid #ff6a6a; padding: 0px 0.2em 0.1em 0px !important; box-shadow: 0.1em 0.1em 0.2em #aaaaaa; background-image: none; margin: 0.2em 0em 0em 0em; } .protyle-wysiwyg .p[data-node-id][custom-riff-decks] { position: relative; display: block; border-left: 0.15em solid #00c853; box-shadow: 0.1em 0.1em 0.2em #aaaaaa; background-image: none; margin: 0.1em 0em 1em 0em; } .protyle-wysiwyg .sb[data-node-id][custom-riff-decks] { position: relative; border-left: 0.15em solid #7c4dff; box-shadow: 0.1em 0.1em 0.2em #aaaaaa; background-image: none; margin: 0.1em 0em 1em 0em; } ")]),_:1}))])):ce("v-if",!0),ce(" \u590D\u4E60\u6316\u7A7A\u589E\u5F3A "),e.beautifulFeature[1].status.value?(W(),be("div",Es,[(W(),je(Lt("style"),null,{default:pt(()=>[gt(' /*\u589E\u5F3A\u95EA\u5361\u7684\u906E\u6321\u6548\u679C v0.02 */ .card__block--hidemark span[data-type~=mark]::before { content: " [...] "; color: var(--b3-theme-on-background); font-size: 16px; } .card__block--hidemark span[data-type~=mark] { font-size: 0px; } ')]),_:1}))])):ce("v-if",!0),ce(" \u7C7Bremnote\u590D\u4E60\u754C\u9762 "),e.beautifulFeature[2].status.value?(W(),be("div",Os,[(W(),je(Lt("style"),null,{default:pt(()=>[gt(" /*\u7C7Bremnote\u754C\u9762 v0.05 */ /*\u5168\u5BBD\u663E\u793A*/ .card__block .protyle-breadcrumb__bar span { max-width: 100%; } /*\u5168\u5BBD\u663E\u793A*/ .card__block .protyle-breadcrumb__bar.protyle-breadcrumb__bar--nowrap { width: 100%; } /*\u7AD6\u5411\u663E\u793A*/ .card__block .protyle-breadcrumb__bar { display: block; } /*\u9690\u85CF > \u7B26\u53F7*/ .card__block .protyle-breadcrumb__bar > svg { display: none; } /*\u9690\u85CF\u9000\u51FA\u805A\u7126\u548C\u6587\u6863\u83DC\u5355*/ .card__block .protyle-breadcrumb button { display: none; } /**/ .card__block span.protyle-breadcrumb__item.protyle-breadcrumb__item--active+svg+span { display: none; } /* \u9690\u85CF\u6700\u540E\u4E00\u4E2A\u9762\u5305\u5C51 */ .card__block .protyle-breadcrumb__bar>span:last-child { opacity: 0; } /* \u9690\u85CF\u9762\u5305\u5C51\u60AC\u6D6E\u663E\u793A */ .card__block .protyle-breadcrumb__bar>span:last-child:hover { opacity: 1; } ")]),_:1}))])):ce("v-if",!0),ce(" \u5C42\u7EA7\u95EA\u5361 "),e.beautifulFeature[3].status.value?(W(),be("div",Fs,[(W(),je(Lt("style"),null,{default:pt(()=>[gt(" /* \u5C42\u7EA7\u95EA\u5361 v0.01 */ /* \u9690\u85CF\u4E8C\u7EA7\u4EE5\u4E0B\u7684\u5217\u8868 */ .card__block div.li>div.list>div.li>div.list>div.li { display: none; } ")]),_:1}))])):ce("v-if",!0)])):ce("v-if",!0),e.labFeature?(W(),be("div",Cs,[ce(" \u6570\u5B66\u5757\u906E\u6321\u5236\u5361 "),e.labFeature[1].status.value?(W(),be("div",As,[(W(),je(Lt("style"),null,{default:pt(()=>[gt(` /*\u6570\u5B66\u5236\u5361 v0.06 */ /*\u9690\u85CF\u9762\u5305\u5C51\u4E2D\u7684latex\u6587\u672C*/ .card__block:has(span[style='color:#6495ed;']) span.protyle-breadcrumb__item.protyle-breadcrumb__item--active { display: none; } /*\u63D0\u4F9B\u516C\u5F0F\u5236\u5361\u7684\u906E\u6321\u6548\u679C*/ .card__block--hidemark span:has(>span[style='color:#6495ed;'])::before { content: " [...] "; color: var(--b3-theme-on-background); font-size: 16px; } .card__block--hidemark span:has(>span[style='color:#6495ed;']) > span { display: none; } .card__block--hidemark span:has(>span[style='color:#6495ed;']) { font-size: 0px; } `)]),_:1})),(W(),je(Lt("script"),null,{default:pt(()=>[gt(' (() => { var tempMacro = JSON.parse(window.siyuan.config.editor.katexMacros || "{}"); tempMacro["\\\\tempMark"] = "\\\\color{#6495ed}"; tempMacro["\\\\mark"] = "{\\\\tempMark#1}"; window.siyuan.config.editor.katexMacros = JSON.stringify(tempMacro); })(); ')]),_:1}))])):ce("v-if",!0),ce(" \u6C89\u6D78\u5F0F\u5236\u5361 "),ce(` <div v-if="labFeature[2].status.value">\r
            <component is="style">\r
\r
            </component>\r
        </div> `)])):ce("v-if",!0)],64))}});async function bt(e){await on("/api/notification/pushMsg",{msg:e,timeout:3e3})}async function Ts(){var e=await on("/api/filetree/getHPathByID",{id:Lr?document.querySelector("#editor .protyle-content .protyle-background")?.getAttribute("data-node-id"):jn().querySelector("span.protyle-breadcrumb__item--active").getAttribute("data-node-id")});return e.code===0?e.data:null}async function Ps(e=!0){let t=[];if(e===!0?t.push("20230218211946-2kw8jgx"):t=await async function(){var i=await on("/api/riff/getRiffDecks",{});let a=await Ts();if(a===null)return bt("\u672A\u80FD\u5F53\u524D\u6587\u6863\u8BFB\u53D6\u8DEF\u5F84"),[];let s=[];return Array.from(i.data).forEach(l=>{var u=l.name;a.search(u)!=-1&&s.push(l.id)}),s}(),t!==[])if(t.length===0)bt(`\u672A\u80FD\u83B7\u53D6\u5230\uFF1A${focusItemPath} \u7684\u5361\u5305`);else{var e=jn(),n=e.querySelectorAll("span[data-type*='mark']"),o=e.querySelectorAll("div[class='sb']"),e=e.querySelectorAll("div[class='li']:has(div[class='li'])  > div[class = 'p']");let a=[];if(n=Kn(n,Ms),o=Kn(o,Is),e=Kn(e,Ls),(a=a.concat(n,o,e)).length===0)bt(`\u672A\u80FD\u83B7\u53D6\u5230\uFF1A${focusItemPath} \u9875\u9762\u7684\u5361\u7247`);else for(var r in a=[...new Set(a)],t)r=await on("/api/riff/addRiffCards",{deckID:t[r],blockIDs:a}),r.code===0&&bt(r.data.name+"\u5361\u5305\u7684\u603B\u5361\u7247\u6570\uFF1A"+r.data.size)}}async function Vs(){let e=[];var t=Kn(jn().querySelectorAll(".protyle-wysiwyg [data-node-id][custom-riff-decks]"),Ns);(e=e.concat(t)).length===0?bt("\u672A\u80FD\u83B7\u53D6\u5230\u9875\u9762\u7684\u5361\u7247"):(await on("/api/riff/removeRiffCards",{deckID:"",blockIDs:e=[...new Set(e)]})).code===0&&bt("All\u5361\u5305\u7684\u79FB\u9664\u5361\u7247\u6570\uFF1A"+e.length)}const _i=["\u95EA\u5361\u6837\u5F0F\u589E\u5F3A","\u590D\u4E60\u6316\u7A7A\u589E\u5F3A","\u7C7Bremnote\u590D\u4E60\u754C\u9762","\u5C42\u7EA7\u95EA\u5361"],yi=["\u5185\u7F6E\u5361\u5305\u5236\u5361","\u6570\u5B66\u5757\u906E\u6321\u5236\u5361","\u6C89\u6D78\u5F0F\u5236\u5361","\u6E10\u8FDB\u5F0F\u9605\u8BFB"];let He=new class{constructor(){this.setList=[],this.SetDict={}}setting(e,t){return this.setList.push(e),this.SetDict[t]=e}getSetting(){var e,t={};for(e of Object.keys(this.SetDict))t[e]=this.SetDict[e].value;return t}};var Nr=(e,t,n)=>new Promise((o,r)=>{var i=l=>{try{s(n.next(l))}catch(u){r(u)}},a=l=>{try{s(n.throw(l))}catch(u){r(u)}},s=l=>l.done?o(l.value):Promise.resolve(l.value).then(i,a);s((n=n.apply(e,t)).next())});const Si="20230218211946-2kw8jgx",js=/\+{2,}/gi,Ks=/\s+/gi,Bs=/^\s*?(?:(?:^-?|\s|\+)(?:alt|option|cmd|command|meta|ctrl|control|shift|cmdorctrl|commandorcontrol|backspace|capslock|del|delete|down|end|enter|return|esc|escape|home|insert|left|pagedown|pageup|right|space|spacebar|tab|up|plus|\d|[a-z]|f(?:\d|1\d|2[0-4])|numpad\d|[!"#$%&'()*+,./:;<=>?@[\]^_`{|}~-]))+\s*$/i,st={HANDLED:0,UNHANDLED:1,UNHANDLEABLE:2},xe={isArray:e=>Array.isArray(e),isEqual:(e,t)=>{if(e.length!==t.length)return!1;for(let n=0,o=e.length;n<o;n++)if(e[n]!==t[n])return!1;return!0},isFalsy:e=>!e,isKeyboardEvent:e=>e.type.startsWith("key"),isMac:()=>typeof navigator=="object"&&/mac|ipod|iphone|ipad/i.test(navigator.platform),isTruthy:e=>!!e,memoize:e=>{const t=new Map;return n=>{var o=t.get(n);return o||t.has(n)||(o=e(n),t.set(n,o)),o}}},$e={alt:256,option:256,cmd:512,command:512,meta:512,ctrl:1024,control:1024,shift:2048,cmdorctrl:xe.isMac()?512:1024,commandorcontrol:xe.isMac()?512:1024,backspace:1,capslock:2,del:3,delete:3,down:4,end:5,enter:6,return:6,esc:7,escape:7,home:8,insert:9,left:10,pagedown:11,pageup:12,right:13,space:14,spacebar:14,tab:15,up:16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,a:27,b:28,c:29,d:30,e:31,f:32,g:33,h:34,i:35,j:36,k:37,l:38,m:39,n:40,o:41,p:42,q:43,r:44,s:45,t:46,u:47,v:48,w:49,x:50,y:51,z:52,"!":53,'"':54,"#":55,$:56,"%":57,"&":58,"'":59,"(":60,")":61,"*":62,"+":63,plus:63,",":64,"-":65,".":66,"/":67,":":68,";":69,"<":70,"=":71,">":72,"?":73,"@":74,"[":75,"\\":76,"]":77,"^":78,_:79,"`":80,"{":81,"|":82,"}":83,"~":84,f1:85,f2:86,f3:87,f4:88,f5:89,f6:90,f7:91,f8:92,f9:93,f10:94,f11:95,f12:96,f13:97,f14:98,f15:99,f16:100,f17:101,f18:102,f19:103,f20:104,f21:105,f22:106,f23:107,f24:108,numpad0:109,numpad1:110,numpad2:111,numpad3:112,numpad4:113,numpad5:114,numpad6:115,numpad7:116,numpad8:117,numpad9:118},Hs={18:256,91:512,92:512,93:512,224:512,17:1024,16:2048,8:1,20:2,46:3,40:4,35:5,13:6,27:7,36:8,45:9,37:10,34:11,33:12,39:13,32:14,9:15,38:16,222:59,188:64,189:65,190:66,191:67,186:69,187:71,219:75,220:76,221:77,192:80,112:85,113:86,114:87,115:88,116:89,117:90,118:91,119:92,120:93,121:94,122:95,123:96,124:97,125:98,126:99,127:100,128:101,129:102,130:103,131:104,132:105,133:106,134:107,135:108,96:109,97:110,98:111,99:112,100:113,101:114,102:115,103:116,104:117,105:118},$s={256:"Alt",512:"Cmd",1024:"Ctrl",2048:"Shift",1:"Backspace",2:"Capslock",3:"Delete",4:"Down",5:"End",6:"Enter",7:"Escape",8:"Home",9:"Insert",10:"Left",11:"PageDown",12:"PageUp",13:"Right",14:"Space",15:"Tab",16:"Up",17:"0",18:"1",19:"2",20:"3",21:"4",22:"5",23:"6",24:"7",25:"8",26:"9",27:"A",28:"B",29:"C",30:"D",31:"E",32:"F",33:"G",34:"H",35:"I",36:"J",37:"K",38:"L",39:"M",40:"N",41:"O",42:"P",43:"Q",44:"R",45:"S",46:"T",47:"U",48:"V",49:"W",50:"X",51:"Y",52:"Z",53:"!",54:'"',55:"#",56:"$",57:"%",58:"&",59:"'",60:"(",61:")",62:"*",63:"Plus",64:",",65:"-",66:".",67:"/",68:":",69:";",70:"<",71:"=",72:">",73:"?",74:"@",75:"[",76:"\\",77:"]",78:"^",79:"_",80:"`",81:"{",82:"|",83:"}",84:"~",85:"F1",86:"F2",87:"F3",88:"F4",89:"F5",90:"F6",91:"F7",92:"F8",93:"F9",94:"F10",95:"F11",96:"F12",97:"F13",98:"F14",99:"F15",100:"F16",101:"F17",102:"F18",103:"F19",104:"F20",105:"F21",106:"F22",107:"F23",108:"F24",109:"Numpad0",110:"Numpad1",111:"Numpad2",112:"Numpad3",113:"Numpad4",114:"Numpad5",115:"Numpad6",116:"Numpad7",117:"Numpad8",118:"Numpad9"},zs={256:"Alt",512:"Cmd",1024:"Ctrl",2048:"Shift",1:"Backspace",2:"Capslock",3:"Delete",4:"Down",5:"End",6:"Enter",7:"Escape",8:"Home",9:"Insert",10:"Left",11:"PageDown",12:"PageUp",13:"Right",14:"Space",15:"Tab",16:"Up",17:"0",18:"1",19:"2",20:"3",21:"4",22:"5",23:"6",24:"7",25:"8",26:"9",27:"A",28:"B",29:"C",30:"D",31:"E",32:"F",33:"G",34:"H",35:"I",36:"J",37:"K",38:"L",39:"M",40:"N",41:"O",42:"P",43:"Q",44:"R",45:"S",46:"T",47:"U",48:"V",49:"W",50:"X",51:"Y",52:"Z",53:"!",54:'"',55:"#",56:"$",57:"%",58:"&",59:"'",60:"(",61:")",62:"*",63:"Plus",64:",",65:"-",66:".",67:"/",68:":",69:";",70:"<",71:"=",72:">",73:"?",74:"@",75:"[",76:"\\",77:"]",78:"^",79:"_",80:"`",81:"{",82:"|",83:"}",84:"~",85:"F1",86:"F2",87:"F3",88:"F4",89:"F5",90:"F6",91:"F7",92:"F8",93:"F9",94:"F10",95:"F11",96:"F12",97:"F13",98:"F14",99:"F15",100:"F16",101:"F17",102:"F18",103:"F19",104:"F20",105:"F21",106:"F22",107:"F23",108:"F24",109:"num0",110:"num1",111:"num2",112:"num3",113:"num4",114:"num5",115:"num6",116:"num7",117:"num8",118:"num9"},qs={256:"\u2325",512:"\u2318",1024:"\u2303",2048:"\u21E7",1:"\u232B",2:"\u21EA",3:"\u2326",4:"\u2193",5:"\u2198",6:"\u23CE",7:"\u238B",8:"\u2196",9:"\u2380",10:"\u2190",11:"\u21DF",12:"\u21DE",13:"\u2192",14:"\u2423",15:"\u21E5",16:"\u2191",17:"0",18:"1",19:"2",20:"3",21:"4",22:"5",23:"6",24:"7",25:"8",26:"9",27:"A",28:"B",29:"C",30:"D",31:"E",32:"F",33:"G",34:"H",35:"I",36:"J",37:"K",38:"L",39:"M",40:"N",41:"O",42:"P",43:"Q",44:"R",45:"S",46:"T",47:"U",48:"V",49:"W",50:"X",51:"Y",52:"Z",53:"!",54:'"',55:"#",56:"$",57:"%",58:"&",59:"'",60:"(",61:")",62:"*",63:"+",64:",",65:"-",66:".",67:"/",68:":",69:";",70:"<",71:"=",72:">",73:"?",74:"@",75:"[",76:"\\",77:"]",78:"^",79:"_",80:"`",81:"{",82:"|",83:"}",84:"~",85:"F1",86:"F2",87:"F3",88:"F4",89:"F5",90:"F6",91:"F7",92:"F8",93:"F9",94:"F10",95:"F11",96:"F12",97:"F13",98:"F14",99:"F15",100:"F16",101:"F17",102:"F18",103:"F19",104:"F20",105:"F21",106:"F22",107:"F23",108:"F24",109:"Numpad0",110:"Numpad1",111:"Numpad2",112:"Numpad3",113:"Numpad4",114:"Numpad5",115:"Numpad6",116:"Numpad7",117:"Numpad8",118:"Numpad9"},J={getModifierKey:e=>65280&e,hasModifierKey:e=>!!J.getModifierKey(e),getTriggerKey:e=>255&e,hasTriggerKey:e=>!!J.getTriggerKey(e),event2id:e=>{let t=0;var n,o,r,i;return xe.isKeyboardEvent(e)&&(n=e.type==="keypress",o=e.which||e.keyCode||0,r=String.fromCharCode(o).toLowerCase(),i=e.key,t=n?$e[i]||$e[r]||0:Hs[o]||$e[r]||$e[i]||0),e.ctrlKey&&(t|=$e.ctrl),e.altKey&&(t|=$e.alt),e.shiftKey&&(t|=$e.shift),e.metaKey&&(t|=$e.cmd),t},event2shortcut:e=>J.id2shortcut([J.event2id(e)]),event2accelerator:e=>J.id2accelerator([J.event2id(e)]),event2symbols:e=>J.id2symbols([J.event2id(e)]),chord2id:xe.memoize(e=>e.replace(js,"+Plus").toLowerCase().split("+").reduce((t,n)=>t|($e[n]||0),0)),chord2accelerator:e=>J.id2accelerator([J.chord2id(e)]),chord2symbols:e=>J.id2symbols([J.chord2id(e)]),isValidShortcut:e=>Bs.test(e),checkValidShortcut:e=>(e=J.isValidShortcut(e),e),shortcut2id:xe.memoize(e=>e.trim().split(Ks).map(J.chord2id)),shortcut2accelerator:xe.memoize(e=>J.id2accelerator(J.shortcut2id(e))),shortcut2symbols:xe.memoize(e=>J.id2symbols(J.shortcut2id(e))),isValidID:e=>e.every(xe.isTruthy),checkValidID:e=>(e=J.isValidID(e),e),id2output:(e,t,n,o)=>{const{ctrl:r,alt:i,shift:a,cmd:s}=$e;return e.map(p=>{var u=[],p=(p&r&&u.push(t[r]),p&i&&u.push(t[i]),p&a&&u.push(t[a]),p&s&&u.push(t[s]),J.getTriggerKey(p));return p&&u.push(t[p]||String.fromCharCode(p).toUpperCase()),u.join(n)}).join(o)},id2shortcut:e=>J.id2output(e,$s,"+"," "),id2accelerator:e=>J.id2output(e,zs,"+"," "),id2symbols:e=>J.id2output(e,qs,""," ")},wt=J,Ws=class{constructor(e){this.lastKeydownID=-1,this.currentKeydownShortcutID=[],this.currentKeypressShortcutID=[],this.currentKeyupShortcutID=[],this.resetNextKeydownShortcutID=!1,this.triggeredNextKeypress=!0,this.ignoreNextKeypress=!1,this.listening=!1,this.on=()=>{this.listening||(this.listening=!0,this.target.addEventListener("keydown",this.handler,{capture:this.capture}),this.target.addEventListener("keypress",this.handler,{capture:this.capture}),this.target.addEventListener("keyup",this.handler,{capture:this.capture}))},this.off=()=>{this.listening&&(this.listening=!1,this.target.removeEventListener("keydown",this.handler,{capture:this.capture}),this.target.removeEventListener("keypress",this.handler,{capture:this.capture}),this.target.removeEventListener("keyup",this.handler,{capture:this.capture}))},this.isListening=()=>this.listening,this.handler=t=>{var n,o,r,i,a;xe.isKeyboardEvent(t)&&this.shouldHandleEvent(t)&&(n=t.type,o=n==="keypress",r=n==="keyup",(n=n==="keydown")&&(this.ignoreNextKeypress=!1),o&&this.ignoreNextKeypress?this.triggeredNextKeypress=!0:(a=wt.event2id(t),i=wt.getTriggerKey(a),n&&(this.lastKeydownID=a),r&&(i||a!==this.lastKeydownID)?this.currentKeyupShortcutID.length=0:(r||i)&&(i=n?this.currentKeydownShortcutID:r?this.currentKeyupShortcutID:this.currentKeypressShortcutID,!n||this.resetNextKeydownShortcutID||this.triggeredNextKeypress||this.currentKeypressShortcutID.push(this.currentKeydownShortcutID[this.currentKeydownShortcutID.length-1]),n&&this.resetNextKeydownShortcutID&&(i.length=0,this.resetNextKeydownShortcutID=!1),i.push(a),o&&xe.isEqual(this.currentKeydownShortcutID,i)?(this.resetNextKeydownShortcutID&&(this.currentKeypressShortcutID.length=0),this.triggeredNextKeypress=!0):((a=this.options.handler(i,t))===st.HANDLED?(this.resetNextKeydownShortcutID=!0,this.currentKeypressShortcutID.length=0,this.currentKeyupShortcutID.length=0):a===st.UNHANDLEABLE?n?this.resetNextKeydownShortcutID=!0:o?this.currentKeypressShortcutID.length=0:r&&(this.currentKeyupShortcutID.length=0):typeof a=="object"&&i.splice(0,1/0,...a),r||(this.ignoreNextKeypress=n&&a===st.HANDLED,this.triggeredNextKeypress=o)))))},this.options=e,this.capture=!!e.capture,this.target=e.target||document,this.shouldHandleEvent=e.shouldHandleEvent||(t=>!t.defaultPrevented)}};var kt=(e,t,n)=>new Promise((o,r)=>{var i=l=>{try{s(n.next(l))}catch(u){r(u)}},a=l=>{try{s(n.throw(l))}catch(u){r(u)}},s=l=>l.done?o(l.value):Promise.resolve(l.value).then(i,a);s((n=n.apply(e,t)).next())});const Ir=new class{constructor(e={}){this.descriptors=[],this.shortcuts={size:0,handlers:[]},this._updateListener=()=>{var t=!!this.shortcuts.size;t!==this.listener.isListening()&&(t?this.listener.on():this.listener.off())},this.handler=(t,n)=>{if(this.recordHandler)return this.recordHandler(wt.id2accelerator(t)),st.UNHANDLED;let o=!1,r=-1;e:for(let a=0,s=t.length;a<s;a++){let l=this.shortcuts;for(let u=a;u<s;u++)if(!(l=l[t[u]])){if(o||a!==s-1)continue e;return st.UNHANDLEABLE}o=!0,r===-1&&(r=a);var i=l.handlers;for(let u=0,p=i.length;u<p;u++)if(i[u](n)===!0)return n&&(n.preventDefault(),n.stopPropagation()),st.HANDLED}return 0<r?t.slice(r):st.UNHANDLED},this.get=()=>this.descriptors,this.add=t=>{if(!xe.isArray(t))return this.add([t]);t.forEach(n=>{const{shortcut:o,handler:r}=n;if(o[0]==="-")return this.remove([{shortcut:o,handler:r}]);if(r){var i=wt.shortcut2id(o);this.descriptors.push(n);const a=i.length-1;i.reduce((s,l,u)=>(s[l]||(s.size++,s[l]={parent:s,id:l,size:0,handlers:[]}),u===a&&s[l].handlers.unshift(r),s[l]),this.shortcuts)}}),this._updateListener()},this.register=t=>(this.add(t),()=>{this.remove(t)}),this.remove=t=>{if(!xe.isArray(t))return this.remove([t]);t.forEach(n=>{let{shortcut:o,handler:r}=n;o[0]==="-"&&(o=o.slice(1));const i=wt.shortcut2id(o),a=(this.descriptors=this.descriptors.filter(s=>s.shortcut!==o&&!xe.isEqual(wt.shortcut2id(s.shortcut),i)||r&&s.handler!==r),i.length-1);i.reduce((s,l,u)=>{if(s=s[l],!s)return{};if(u===a){r?s.handlers=s.handlers.filter(h=>h!==r):s.handlers.length=0;let p=s;for(;!p.size&&!p.handlers.length&&p.parent&&p.id;)delete p.parent[p.id],p.parent.size--,p=p.parent}return s},this.shortcuts)}),this._updateListener()},this.reset=()=>{this.descriptors=[],this.shortcuts={size:0,handlers:[]},this._updateListener()},this.record=t=>(this.recordHandler=t,()=>{delete this.recordHandler}),this.trigger=t=>(t=typeof t=="string"?wt.shortcut2id(t):t,this.handler(t)===st.HANDLED),this.listener=new Ws({capture:e.capture,handler:this.handler,target:e.target,shouldHandleEvent:e.shouldHandleEvent}),this.reset(),e.shortcuts&&this.add(e.shortcuts)}},Qe=globalThis.Lute.New(),Js="20230218211946-2kw8jgx";var Vr=(e,t,n)=>new Promise((o,r)=>{var i=l=>{try{s(n.next(l))}catch(u){r(u)}},a=l=>{try{s(n.throw(l))}catch(u){r(u)}},s=l=>l.done?o(l.value):Promise.resolve(l.value).then(i,a);s((n=n.apply(e,t)).next())});class Zs extends z.Plugin{onload(){this.data={},this.init(),this.eventBus.on("ws-main",this.wsEvent)}onunload(){this.sheet.remove(),this.topBarElement.remove()}wsEvent({detail:t}){t.cmd==="transactions"&&Us(t)}updateConfig(){return Vr(this,null,function*(){this.saveData("enhanceConfig.json",JSON.stringify(He.getSetting()))})}init(){return Vr(this,null,function*(){var t,n=yield this.loadData("enhanceConfig.json");this.data.settingConfig=yield Rs(n),this.updateConfig(),this.topBarElement=this.addTopBar({icon:`<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-device-ipad-bolt" width="32" height="32" viewBox="0 0 22 22" stroke-width="2.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M13.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v7" fill="none"></path>
            <path d="M9 18h4"></path>
            <path d="M19 16l-2 3h4l-2 3"></path>
         </svg>`,title:this.i18n.addTopBarIcon,position:"left",callback:()=>{Ps(this.data.settingConfig.labFeature[0].status.value)}});let o=this;this.sheet=document.createElement("div"),this.topBarElement.addEventListener("contextmenu",r=>{Ss(r,o)}),n=o,vi(Ds,n.data.settingConfig).mount(n.sheet),(t=document.querySelector("head"))!=null&&t.appendChild(n.sheet),Zt(He.setList,()=>{this.updateConfig()}),He.getSetting().\u6E10\u8FDB\u5F0F\u9605\u8BFB&&Ir.add([{shortcut:"ALT+Q",handler:r=>{xi()}},{shortcut:"ALT+W",handler:r=>{ki()}},{shortcut:"ALT+E",handler:r=>{Ei()}}]),Zt(He.setList,()=>{He.getSetting().\u6E10\u8FDB\u5F0F\u9605\u8BFB?Ir.add([{shortcut:"ALT+Q",handler:r=>{xi()}},{shortcut:"ALT+W",handler:r=>{ki()}},{shortcut:"ALT+E",handler:r=>{Ei()}}]):Ir.remove([{shortcut:"ALT+E"},{shortcut:"ALT+W"},{shortcut:"ALT+E"}])})})}}}module.exports=Wn})();
